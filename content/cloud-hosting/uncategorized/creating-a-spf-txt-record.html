---
node_id: 1500
title: Create an SPF TXT record
permalink: article/creating-a-spf-txt-record
type: article
created_date: '2012-07-24 00:19:16'
created_by: RackKCAdmin
last_modified_date: '2015-08-31 16:2402'
last_modified_by: Mike Asthalter
products: Cloud Hosting
categories: Uncategorized
body_format: tinymce
---

<p>Email spammers commonly forge the sender address in an email; they send email from their mail servers but with your domain as the sending email. The Sender Policy Framework (SPF) attempts to control forged email by giving domain owners a way to specify which email sources are legitimate for their domain and which ones aren't. For detailed information about SPF, see <a href="http://www.openspf.org/">Sender Policy Framework Project Overview</a>.</p>

<p>You can add an SPF record to your DNS zone as a TXT record. The SPF record is associated with your domain and specifies which mail server or servers the domain uses to send email.</p>

<p><a id="Setting_SPF" name="Setting_SPF"></a></p>

<h2><span class="mw-headline">Considerations for setting the SPF</span></h2>

<p>To correctly set the SPF for your domain, answer the following questions:</p>

<ul>
	<li>From what server or servers will email from the domain originate? If you are sending email from your workstation by using your ISP's mail servers, you might want to consider their servers.&nbsp;All possible (legitimate) sending servers need to be taken into account.</li>
	<li>How do you want illegitimate email to be handled? Do you want it to be rejected outright, or do you want the message to be classified as a "soft fail," meaning that the email will be subjected to further scrutiny.</li>
</ul>

<p><a id="Example" name="Example"></a></p>

<h3><span class="mw-headline">Example of how to create an SPF rule</span></h3>

<p>Suppose you have the following considerations for your email on a specific domain:</p>

<ul>
	<li>Authorized servers are your cloud server (that is, the incoming MX details also send mail) and&nbsp;Google mail.</li>
	<li>No other servers are authorized.</li>
</ul>

<p>You would create the following rule and add it to a TXT record:</p>

<pre>
v=spf1 mx include:_spf.google.com -all</pre>

<p>Each part of the record is defined as follows:</p>

<ul>
	<li><strong>v=spf1</strong> sets the SPF version being used.</li>
</ul>

<ul>
	<li><strong>mx</strong>&nbsp;allows the domain's MX details to send email.</li>
</ul>

<ul>
	<li><strong>include:_spf.google.com</strong> includes Google mail servers as authorized servers.</li>
</ul>

<ul>
	<li><strong>-all</strong> indicates that servers that are not listed previously are <em>not</em> authorized to send email. If an unauthorized server does send email, action is taken according to the receiving mail server's own policy (for example, delete the email or mark it as spam).</li>
</ul>

<h3><span class="mw-headline">About the all setting</span></h3>

<p>The&nbsp;<strong>all</strong>&nbsp;setting is an important aspect of the record and has the following basic markers:</p>

<ul>
	<li>-<strong>all</strong>&nbsp;– Any server not previously listed is not authorized to send email, no questions asked.</li>
</ul>

<ul>
	<li><strong>~all</strong>&nbsp;– If mail is received from a server that is not previously listed, it is marked as a soft fail, which allows the email to be scrutinized further.</li>
</ul>

<ul>
	<li><strong>+all&nbsp;</strong>– Allow any server to send email from your domain. Naturally, you should never use this option.</li>
</ul>

<p>&nbsp;</p>

<h2><span class="mw-headline">Adding an SPF TXT record</span></h2>

<p>To add an SPF TXT record by using the Cloud Control Panel, follow these steps:</p>

<ol>
	<li>Log in to the <a href="https://mycloud.rackspace.com/">Cloud Control Panel</a>.</li>
	<li>In the top navigation bar, select <strong>Networking &gt;</strong>&nbsp;<strong>Cloud DNS</strong>.</li>
	<li>Click the&nbsp;action gear next to the name of the domain that you want to modify, and select <strong>Add DNS Record</strong>.</li>
	<li>Select&nbsp;<strong>TXT Record</strong>&nbsp;for the record type.</li>
	<li>Enter the rule in the&nbsp;<strong>Text</strong>&nbsp;area. For example, enter <code>v=spf1 mx –all</code> to indicate that all email is sent from this server and no other mail servers are authorized.</li>
	<li>Specify the Time To Live (TTL).</li>
	<li>Click&nbsp;<strong>Add Record</strong>.</li>
</ol>

<p><img alt="DNS SPF Record" src="http://c691244.r44.cf2.rackcdn.com/SPF Record DNS.png" /></p>

<p>&nbsp;</p>

<p><strong>Related information</strong></p>

<p><a href="http://www.rackspace.com/knowledge_center/node/2407">Creating a DKIM TXT Record</a></p>
