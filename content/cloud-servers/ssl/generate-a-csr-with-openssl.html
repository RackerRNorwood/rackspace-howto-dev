---
node_id: 345
title: Generate a CSR with OpenSSL
permalink: article/generate-a-csr-with-openssl
type: article
created_date: '2011-03-16 21:57:40'
created_by: RackKCAdmin
last_modified_date: '2014-12-07 18:0850'
last_modified_by: jered.heeschen
products: Cloud Servers
categories: SSL
body_format: tinymce
---

<p>This article will go through the first step of creating and eventually installing an SSL certificate. You'll use the same steps whether you are getting a traditional SSL from an authority like Verisign, a self signed certificate or the '*' Wildcard certificate. Most of the information is taken&nbsp;from <a href="http://www.rapidssl.com/ssl-certificate-support/generate-csr/Apache2.htm">RapidSSL's support documentation</a>, which is also a great place to buy a certificate. The Rackspace Cloud is not a certificate authority and does not resell SSL certificates so you will need to go to a third party solution and purchase a certificate using this certificate signing request (CSR).</p>

<p><strong>Tip:</strong> You can also generate a CSR and private key using a <a href="https://csrgenerator.rackspace.com/">feature in the Cloud Control Panel</a>. For more information, see&nbsp;<a href="/knowledge_center/article/create-an-ssl-csr-in-the-rackspace-cloud-control-panel">Create an SSL CSR in the Rackspace Cloud Control Panel</a>.</p>

<table class="toc" id="toc" summary="Contents">
	<tbody>
		<tr>
			<td>
			<div id="toctitle">
			<h2>Contents</h2>
			</div>

			<ul>
				<li class="toclevel-1"><a href="#Prerequisites"><span class="tocnumber">1</span> <span class="toctext">Prerequisites</span></a></li>
				<li class="toclevel-1"><a href="#Generate_the_RSA_key"><span class="tocnumber">2</span> <span class="toctext">Generate the RSA key</span></a></li>
				<li class="toclevel-1"><a href="#Create_a_CSR"><span class="tocnumber">3</span> <span class="toctext">Create a CSR</span></a></li>
				<li class="toclevel-1"><a href="#Verify_your_CSR"><span class="tocnumber">4</span> <span class="toctext">Verify your CSR</span></a></li>
				<li class="toclevel-1"><a href="#Submit_your_CSR"><span class="tocnumber">5</span> <span class="toctext">Submit your CSR</span></a></li>
			</ul>
			</td>
		</tr>
	</tbody>
</table>

<p><a id="Prerequisites" name="Prerequisites"></a></p>

<h2><span class="mw-headline">Prerequisites </span></h2>

<p>What you'll need first is to install <strong>Openssl</strong> on your server, this is a common package and will be available on all of the major distros through their package installer. Here is how you check to see if it is installed in a "Yum" style system:</p>

<pre>
    # rpm -qa | grep -i openssl
</pre>

<p>The above command should return the following packages, or something similar:</p>

<p>openssl-0.9.8e-7.el5 openssl-0.9.8e-7.el5 openssl-devel-0.9.8e-7.el5</p>

<p>If it didn't you'll want to run the following:</p>

<pre>
    # yum install openssl openssl-devel
</pre>

<p><a id="Generate_the_RSA_key" name="Generate_the_RSA_key"></a></p>

<h2><span class="mw-headline">Generate the RSA key</span></h2>

<p>Create a RSA key for your Apache server, since every distro is different in where to place the certificates, we are just going to place it in an arbitrary spot:</p>

<pre>
    # mkdir ~/domain.com.ssl/
    # cd ~/domain.com.ssl/

</pre>

<p>Type the following command to generate a private key.</p>

<pre>
    # openssl genrsa -out ~/domain.com.ssl/domain.com.key 2048
</pre>

<p><a id="Create_a_CSR" name="Create_a_CSR"></a></p>

<h2><span class="mw-headline">Create a CSR </span></h2>

<p>Type the following command to create a CSR with the RSA private key (output will be PEM format):</p>

<pre>
    # openssl req -new -sha256 -key ~/domain.com.ssl/domain.com.key -out ~/domain.com.ssl/domain.com.csr
</pre>

<p>When creating a CSR you must follow these conventions. Enter the information to be displayed in the certificate. The following characters can not be used for the Organization Name or the Organizational Unit: &lt; &gt; ~&nbsp;! @ # $&nbsp;% ^ * / \ ( )&nbsp;?.,&amp;</p>

<table border="2" class="ssltable">
	<tbody>
		<tr>
			<td>DN Field</td>
			<td>Explanation</td>
			<td>Example</td>
		</tr>
		<tr>
			<td>Common Name</td>
			<td>The fully qualified domain name for your web server. This must be an exact match.</td>
			<td>If you intend to secure the URL <code>https://www.yourdomain.com</code>, then your CSR's common name must be <code>www.yourdomain.com</code>. If you plan on getting a wildcard certificate make sure to prefix your domain with an asterisk, example: <code> *.domain.com</code>.</td>
		</tr>
		<tr>
			<td>Organization</td>
			<td>The exact legal name of your organization. Do not abbreviate your organization name.</td>
			<td>domain.com</td>
		</tr>
		<tr>
			<td>Organization Unit</td>
			<td>Section of the organization</td>
			<td>IT</td>
		</tr>
		<tr>
			<td>City or Locality</td>
			<td>The city where your organization is legally located.</td>
			<td>Wellesley Hills</td>
		</tr>
		<tr>
			<td>State or Province</td>
			<td>The state or province where your organization is legally located. Can not be abbreviated.</td>
			<td>Massachusetts</td>
		</tr>
		<tr>
			<td>Country</td>
			<td>The two-letter ISO abbreviation for your country.</td>
			<td>US</td>
		</tr>
	</tbody>
</table>

<p>Do not enter extra attributes at the prompt.</p>

<ul>
	<li>Warning: Leave the challenge password blank (press enter)</li>
</ul>

<p><a id="Verify_your_CSR" name="Verify_your_CSR"></a></p>

<h2><span class="mw-headline">Verify your CSR </span></h2>

<pre>
    # openssl req -noout -text -in ~/domain.com.ssl/domain.com.csr
</pre>

<p><a id="Submit_your_CSR" name="Submit_your_CSR"></a></p>

<h2><span class="mw-headline">Submit your CSR </span></h2>

<p>From this point you have to take your CSR that you created here and submit it to a certificate authority. Ones that we recommend are going to be Verisign, Thawte and RapidSSL. There are also a number of other certificate authorities out there, shop around.</p>

<hr />
<p>Check out the next article in this line <a href="/knowledge_center/index.php/Installing_an_SSL_certificate" title="Installing an SSL certificate">Installing an SSL certificate</a>.</p>
