---
node_id: 360
title: Installing an SSL certificate on Apache
permalink: article/installing-an-ssl-certificate-on-apache
type: article
created_date: '2011-03-16 21:57:40'
created_by: RackKCAdmin
last_modified_date: '2013-08-14 21:0325'
last_modified_by: rose.contreras
products: Cloud Servers
categories: 'SSL,Apache'
body_format: tinymce
---

<p>This article is a continuation of <a title="Generate a CSR" href="/knowledge_center/index.php/Generate_a_CSR">Generate a CSR</a> and will take you from creating and receiving your SSL cert from your authority of choice to installing it in apache. I've chosen to Apache since it is the most common web server on Linux and the Internet. Again, I'm pulling the majority of this documentation from RapidSSL.com which is a great place to buy a certificate if you haven't already chosen:</p><p><a class="external free" title="http://www.rapidssl.com/ssl-certificate-support/install-ssl-certificate/apache_2x.htm" href="http://www.rapidssl.com/ssl-certificate-support/install-ssl-certificate/apache_2x.htm" rel="nofollow">http://www.rapidssl.com/ssl-certificate-support/install-ssl-certificate/apache_2x.htm</a></p><hr /><table id="toc" class="toc" summary="Contents"><tbody><tr><td><div id="toctitle"><h2>Contents</h2></div><ul><li class="toclevel-1"><a href="#Prerequisites"><span class="tocnumber">1</span> <span class="toctext">Prerequisites</span></a></li><li class="toclevel-1"><a href="#Installing_your_SSL_Certificate"><span class="tocnumber">2</span> <span class="toctext">Installing your SSL Certificate</span></a><ul><li class="toclevel-2"><a href="#Copy_the_files_in_into_the_default_locale"><span class="tocnumber">2.1</span> <span class="toctext">Copy the files in into the default locale</span></a></li><li class="toclevel-2"><a href="#Edit_the_httpd.conf"><span class="tocnumber">2.2</span> <span class="toctext">Edit the httpd.conf</span></a></li></ul></li><li class="toclevel-1"><a href="#iptables"><span class="tocnumber">3</span> <span class="toctext">iptables</span></a></li><li class="toclevel-1"><a href="#Restart_Apache"><span class="tocnumber">4</span> <span class="toctext">Restart Apache</span></a></li></ul></td></tr></tbody></table><script type="text/javascript">// <![CDATA[
if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); }
// ]]></script><p><a id="Prerequisites" name="Prerequisites"></a></p><h2><span class="mw-headline">Prerequisites</span></h2><p>Keep in mind besides having apache and mod_ssl installed, you will need to have an IP address for this SSL cert and a unique IP address for each SSL that you want to host. Certificate authorities and browsers require that all SSL certs be on their own IP address.</p><p><a id="Installing_your_SSL_Certificate" name="Installing_your_SSL_Certificate"></a></p><h2><span class="mw-headline">Installing your SSL Certificate</span></h2><p><a id="Copy_the_files_in_into_the_default_locale" name="Copy_the_files_in_into_the_default_locale"></a></p><h3><span class="mw-headline">Copy the files in into the default locale</span></h3><p>When you receive your SSL certificate from your authority, upload it to your server and place it in ~/domain.com.ssl/domain.com.crt</p><ul><li>Copy the certificate, key, and csr into the Apache server directory in which you plan to store your certificates (by default: /usr/local/apache/conf/ssl.crt/ or /etc/httpd/conf/ssl.crt/).</li></ul><p><strong>Note: Copy the entire contents of the certificate from (and including) the -----BEGIN CERTIFICATE----- and -----END CERTIFICATE----- lines.</strong></p><p><a id="Edit_the_httpd.conf" name="Edit_the_httpd.conf"></a></p><h3><span class="mw-headline">Edit the httpd.conf</span></h3><p>Open the Apache httpd.conf file in a text editor(I prefer VIM, the true editor).</p><p>Create the following Virtual Host:</p><pre>&lt;VirtualHost 123.45.67.89:443&gt;
ServerName www.domain.com
DocumentRoot /path/to/your/document/root/htdocs

SSLEngine ON
SSLCertificateFile /etc/httpd/conf/ssl.crt/domain.com.crt
SSLCertificateKeyFile /etc/httpd/conf/ssl.key/domain.com.key

ErrorLog logs/ssl.domain.com.error_log
CustomLog logs/ssl.domain.com.access_log combined
&lt;/VirtualHost&gt;
</pre><ul><li><strong>keep in mind that the paths to the certificate files will need to be changed to where ever you choose to place your certificate.</strong></li></ul><p>Save the changes and exit the editor.</p><p>Save the changes and exit the editor.</p><p><a id="iptables" name="iptables"></a></p><h2><span class="mw-headline">iptables</span></h2><p>You may need to open a port in your firewall to allow SSL connections to port 443. &nbsp;To check, get a list of your firewall rules:</p><pre>sudo /sbin/iptables -L
</pre><p>If you have iptables active but it doesn't have any exceptions for port 443, we'll have to add some:</p><pre>sudo /sbin/iptables -I INPUT -p tcp --dport 443 -m state --state NEW,ESTABLISHED -j ACCEPT
sudo /sbin/iptables -I OUTPUT -p tcp --sport 443 -m state --state ESTABLISHED -j ACCEPT
</pre><p>Remember to add the rules to your iptables config file or, on Red Hat-based distributions, run:</p><pre>sudo /sbin/service iptables save
</pre><p><a id="Restart_Apache" name="Restart_Apache"></a></p><h2><span class="mw-headline">Restart Apache</span></h2><p>Restart your apache web server:</p><pre># /etc/init.d/httpd restart
or
# /etc/init.d/apache2 restart
</pre><p>Test your certificate by using a browser to connect to your server. Use the https protocol directive (e.g. https://your server/) to indicate you wish to use secure HTTP.</p><p>Note: The padlock icon on your browser will be displayed in the locked position if your certificates are installed correctly and the server is properly configured for SSL.</p>
