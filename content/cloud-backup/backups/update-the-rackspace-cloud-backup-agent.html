---
node_id: 3255
title: Update the Rackspace Cloud Backup Agent
permalink: article/update-the-rackspace-cloud-backup-agent
type: article
created_date: '2013-01-08 17:00:57'
created_by: Rackspace Support
last_modified_date: '2015-08-12 18:1942'
last_modified_by: catherine.richardson
products: Cloud Backup
categories: Backups
body_format: tinymce
---

<h2>Update the agent</h2>

<p>We release regular updates to the Rackspace Cloud Backup agent about every two weeks. Managed Cloud Service Level account customers have their agent updated automatically when the new version is released. However, if you are a Managed Infrastructure customer, you should update your agent from time to time. Follow the instructions below to take advantage of the latest features and fixes.</p>

<p><strong>Note:</strong> These instructions assume that the agent has been previously installed. Updates are typically completed automatically. Only in rare circumstance should updates be completed manually.</p>

<p>Visit the following links to learn how to:</p>

<ul>
	<li><a href="#installubuntu" target="_self">Update the agent for apt-based systems</a> - like Ubuntu, Debian, and Vyatta</li>
	<li><a href="#installrpm" target="_self">Update the agent for yum-based systems</a> - like CentOS, Fedora, and Red Hat</li>
	<li><a href="#installarch">Update the agent for Arch, Gentoo, and Suse systems</a></li>
	<li><a href="#installwindows" target="_self">Update the agent for Windows systems</a><br />
	&nbsp;</li>
</ul>

<div>
<h3><a name="installubuntu"></a>Update the agent for apt-based Sytems, like Ubuntu, Debian, and Vyatta</h3>
</div>

<p>First, you must SSH into your server and run the below commands consecutively on a user with sudo or superuser privileges. You might wish to review&nbsp;<a href="http://www.rackspace.com/knowledge_center/article/rackspace-cloud-backup-install-the-agent-on-linux">Rackspace Cloud Backup - Install the agent on Linux</a> before performing the steps shown below.</p>

<p><strong>Note:</strong> The Advanced Packaging Tool (APT) automatically stops and restarts the driveclient service as part of the update process. Driveclient versions 1.28 and later install the service called the Cloud Backup Updater that keeps the agent up to date on the system.<strong> </strong></p>

<p><strong>Step 1 – Update the repository data:</strong></p>

<pre>
apt-get update</pre>

<p><strong>Step 2 – Install the Cloud Backup Updater:</strong></p>

<pre>
apt-get install --reinstall --assume-yes driveclient


</pre>
<p>&nbsp;</p>
<div>
<h3><a name="installrpm"></a>Update the agent for yum-based Systems, like CentOS, Fedora, and Red Hat</h3>
</div>

<p>First, you must SSH into your server and run the below commands consecutively on a user with sudo or superuser privileges. You might wish to review&nbsp;<a href="http://www.rackspace.com/knowledge_center/article/rackspace-cloud-backup-install-the-agent-on-linux">Rackspace Cloud Backup - Install the agent on Linux</a> before performing the steps shown below.</p>

<p><strong>Note:</strong> Yum automatically stops and restarts the driveclient service as part of the update process. Driveclient versions 1.28 and later install a service called the Cloud Backup Updater that keeps the agent up to date on the system.</p>

<p><strong>Step 1 – Update the driveclient:</strong></p>

<pre>
yum upgrade --assume-yes driveclient</pre>

<p><strong>Note:</strong> Fedora 22 and later uses a new package manager called DNF (Dandified Yum).<br />
&nbsp;</p>

<h3><a name="installarch"></a>Update the agent for Arch, Gentoo, and Suse systems</h3>

<p>First, you must SSH into your server and run the below commands consecutively on a user with sudo or superuser privileges. You might wish to review&nbsp;<a href="http://www.rackspace.com/knowledge_center/article/rackspace-cloud-backup-install-the-agent-on-linux">Rackspace Cloud Backup - Install the agent on Linux</a> before performing the steps shown below.</p>

<p><strong>Note: </strong>The tarball you download in Step 3 has the most up-to-date instructions. So if the tarball instructions differ from those below, follow the tarball instructions.</p>

<p><strong>Step 1 - Stop the current agent:</strong></p>

<pre>
pkill driveclient</pre>

<p><strong>Step 2 – Delete (or rename) the previously downloaded tarball:</strong></p>

<pre>
rm driveclient-latest.tar</pre>

<p><strong>Step 3 - Download the new tarball:</strong></p>

<pre>
<a href="http://agentrepo.drivesrvr.com/tar/driveclient-latest.tar.bz2">wget http://agentrepo.drivesrvr.com/tar/driveclient-latest.tar.bz2</a></pre>

<p><strong>Step 4 - Extract the files:</strong></p>

<pre>
tar -xjf driveclient-latest.tar.bz2</pre>

<p><strong>Step 5 - Change to the new directory created in Step 4. The following command includes an example of the directory created from Step 4. </strong></p>

<pre>
cd driveclient-1.12.006246</pre>

<p><strong>Step 6 - Copy the updated agent over the current agent:</strong></p>

<pre>
cp driveclient /usr/local/bin/
chown root:root /usr/local/bin/driveclient
chmod 700 /usr/local/bin/driveclient

cp cacert.pem  /etc/driveclient</pre>

<p><strong>Step 7 - Start the updated agent:</strong></p>

<pre>
driveclient --daemon</pre>

<p>Example init/startup scripts are included in the tarball.<br />
&nbsp;</p>

<div>
<h3><a name="installwindows"></a>Update the agent on a Windows systems</h3>

<p>The steps shown in this section should be run as Administrator or as a user with Administrator privileges. You might wish to review <a href="http://www.rackspace.com/knowledge_center/article/rackspace-cloud-backup-install-the-agent-on-windows">Rackspace Cloud Backup - Install the agent on Windows</a> before performing the steps shown below.</p>

<p>Because the Windows agent inlcudes an automated updater, there should rarely be an occasion to update the Windows agent manually. However, there may be some rare need to do so. Here are a couple of different options that might be useful.</p>

<p>The preferred way to do a manual update is to download the latest agent from the deployment server and simply run it.</p>
</div>

<p><strong>Step 1 - Download the updated agent:</strong></p>

<ul>
	<li>Get the agent for 32-bit systems:
	<pre>
<a href="http://agentrepo.drivesrvr.com/win32/driveclient-setup-latest.exe">http://agentrepo.drivesrvr.com/win32/driveclient-setup-latest.exe</a>
</pre>
	</li>
	<li>Get the agent for 64-bit systems:
	<pre>
<a href="http://agentrepo.drivesrvr.com/win64/driveclient-setup-latest.exe">http://agentrepo.drivesrvr.com/win64/driveclient-setup-latest.exe</a>
</pre>
	</li>
</ul>

<p><strong>Step 2 - Run the updated agent:</strong></p>

<pre>
driveclient-setup-latest.exe
</pre>

<p>You may even run it by simply executing the wrapper app from a Windows file browser.</p>

<p>Doing an upgrade by hand without messing up your agent registration can be tricky. Only attempt to do this if you know exactly what you are doing.</p>

<p>To update and existing agent from the command line with msiexec, you must first save the configuration files from <code>%PROGRAMDATA%\Driveclient</code> and uninstall the current agent. Then copy the saved configuration files back to their original locations in %PROGRAMDATA%\Driveclient. Finally, download the latest MSI from the deployment server and run the install without APIUSER and APIKEY.</p>

<pre>
msiexec /i driveclient-1.18.007148-en-us.msi /qn /l*v %tmp%\install-1.18.007148.log DEBUGHIGH=true</pre>

<p>Otherwise, updating the agent using the MSI is the same as a fresh install. You have all the same MSI options available. For the verification steps to test the update, see <a href="http://www.rackspace.com/knowledge_center/article/rackspace-cloud-backup-install-the-agent-on-windows#testsetup" target="_self">Test Windows installation or update</a>.</p>

<p>&nbsp;</p>
