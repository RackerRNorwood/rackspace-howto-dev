---
node_id: 465
title: Ubuntu - mod rails installation
permalink: article/ubuntu-mod-rails-installation
type: article
created_date: '2011-03-16 21:57:40'
created_by: RackKCAdmin
last_modified_date: '2014-09-04 20:4738'
last_modified_by: kyle.laffoon
products: Cloud Servers
categories: Ruby on Rails
body_format: tinymce
---

<p><a class="external text" title="http://www.modrails.com/" href="http://www.modrails.com/" rel="nofollow">Phusion's Passenger</a> (mod_rails) is an exciting development in serving your Ruby on Rails application with the Apache web server.</p>
<p>Incredibly simple to install and use, you can have a rails application up and running in no time. You don't have to worry about ports or setting up a proxy to another server.</p>
<hr />
<p><a id="Prerequisites" name="Prerequisites"></a></p>
<h2><span class="mw-headline">Prerequisites </span></h2>
<p>To get the most out of this article you need to have a couple of things preinstalled:</p>
<p>Firstly, you need Apache installed (see <a class="mw-redirect" title="Ubuntu Intrepid - Apache and PHP install" href="/knowledge_center/index.php/Ubuntu_Intrepid_-_Apache_and_PHP_install">Ubuntu - Apache and PHP install</a>).</p>
<p>Secondly, you need ruby and rubygems installed (if not please see the <a class="mw-redirect" title="Ubuntu Intrepid - Ruby on Rails" href="/knowledge_center/index.php/Ubuntu_Intrepid_-_Ruby_on_Rails">Ruby on Rails</a> article).</p>
<p><a id="mod_rails_installation" name="mod_rails_installation"></a></p>
<h2><span class="mw-headline">mod_rails installation </span></h2>
<p>Passenger (mod_rails) is a rubygem.</p>
<p>We need to update the rubygems install:</p>
<pre> 
sudo gem update
</pre>
<p>and then install passenger:</p>
<pre> 
sudo gem install passenger
</pre>
<p>Once completed, we need to install the Apache2 module:</p>
<pre> 
sudo passenger-install-apache2-module
</pre>
<p>A dialogue opens in the terminal and starts with:</p>
<p>As suggested, press 'Enter/Return':</p>
<p>I deliberately left the Apache headers off the installation until this point as I want to demonstrate how easy the installation is.</p>
<p>The passenger (mod_rails) install has found a missing dependency — let's press 'Enter/Return':</p>
<p>How cool is that? It tells us what to do.</p>
<p>Well, let's go ahead and install the headers (we'll use aptitude though):</p>
<pre> 
sudo aptitude install apache2-prefork-dev
</pre>
<p>Once done, we can try the install again:</p>
<pre> 
sudo passenger-install-apache2-module
</pre>
<p>All being well, the install will complete with instructions at the end letting us know we need to add some lines to the main Apache2 config file.</p>
<p>No problem:</p>
<pre> 
sudo nano /etc/apache2/apache2.conf
</pre>
<p>Note: Passenger is an active gem and is being updated all the time. Rather than copy and paste the following output, please ensure you copy and paste the output from the install itself.</p>
<p>At the time of writing the article (well, updating it actually) I installed passenger v2.0.6 — you may have installed a later version.</p>
<p>So, for my v2.0.6 install, I added the following lines to my apache2.conf:</p>
<pre> 
LoadModule passenger_module /usr/lib/ruby/gems/1.8/gems/passenger-2.0.6/ext/apache2/mod_passenger.so
   PassengerRoot /usr/lib/ruby/gems/1.8/gems/passenger-2.0.6
   PassengerRuby /usr/bin/ruby1.8
</pre>
<p><a id="Apache_restart" name="Apache_restart"></a></p>
<h2><span class="mw-headline">Apache restart </span></h2>
<p>Now all we need to do is restart Apache:</p>
<pre> 
sudo /etc/init.d/apache2 restart
</pre>
<p>Done</p>
<p>That's all we need to do to install mod_rails onto our Cloud Server.</p>
<p>The next article will show how to create a Ruby on Rails application and serve it using passenger — an incredibly easy process.</p>
