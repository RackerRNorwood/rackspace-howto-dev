---
node_id: 1388
title: Rackspace Cloud Essentials - Choosing the right-size cloud server
permalink: article/rackspace-cloud-essentials-2-choosing-the-right-size-cloud-server
type: article
created_date: '2012-05-02 18:02:52'
created_by: RackKCAdmin
last_modified_date: '2015-04-07 22:2952'
last_modified_by: David Hendler
products: Cloud Servers
categories: 'Resizing,Linux Tools'
body_format: tinymce
---

<p class="p1">One of the great advantages of using Rackspace Cloud Servers (<a href="http://www.rackspace.com/cloud/servers/" target="_blank">product page</a>) is the flexibility that you have to purchase only the amount of computing power you need. &nbsp;When business is good and you need increased server capacity, you can scale your implementation horizontally by distributing your traffic over multiple servers by using Cloud Load Balancers (<a href="http://www.rackspace.com/cloud/load-balancing" target="_blank">product page</a>).</p>

<h4 class="p1">So, the question is,&nbsp;<em>how much computing power do you need?</em></h4>

<p class="p1">One way to answer this question is to install and test your application on a few different-size implementations.&nbsp; Then, perform load testing of your application while simulating traffic to your site. &nbsp;It is best to test your site from a URL that does more than just retrieve a static web page; for example, access a page that uses PHP and makes a database query, so the test is more representative of normal traffic.&nbsp; &nbsp;</p>

<p class="p1">This article shows some of the standard tools for viewing your server's performance, and helps you determine whether the server size that you chose is up to the task.</p>

<h4 class="p1">Considerations</h4>

<p class="p1">One thing to consider is that Rackspace Cloud Servers are virtual partitions of larger physical machines that allocate resources based on a process called CPU scheduling. &nbsp;They do not perform exactly like a dedicated machine with similar resources. You can find out more details about CPU scheduling by reading the&nbsp;<a href="http://www.rackspace.com/knowledge_center/Frequently_Asked_Questions#Performance">Performance</a>&nbsp;section of our Cloud Servers FAQ.</p>

<p class="p1">OnMetal Cloud Servers (<a href="http://www.rackspace.com/cloud/servers/onmetal">product page</a>) are also available. OnMetal servers are single-tenant, bare metal servers provisioned via the same OpenStack API as our cloud server. They can be created or deleted as quickly as VMs to offer the agility of multi-tenant environments with the performance of single-tenant hardware.</p>

<p class="p1">Also consider that cloud servers come in various flavors or server types including: General Purpose Compute optimized, Memory-optimized, and I/O optimized servers. The Memory, Compute, and I/O flavors offer faster disk access and network speed than General Purpose flavors. Disk size and virtual CPU allocation are different for equivalent flavors. Compare the offerings based on the performance needs that you identify in the following sections.</p>

<p><strong><a id="Flavorclassworkloads" name="Flavorclassworkloads"></a>Flavor classes for different workloads</strong></p>

<table align="center" border="1" cellpadding="1" cellspacing="1" height="812" width="624">
	<tbody>
		<tr>
			<td>(Prototype)</td>
			<td>(Scale)</td>
			<td>(Optimize)</td>
		</tr>
		<tr>
			<td><strong>General purpose<br />
			vitual servers</strong></td>
			<td><strong>Workload-optimized<br />
			virtual servers</strong></td>
			<td><strong>Workload-optimized<br />
			OnMetal servers</strong></td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td valign="bottom"><strong>Description</strong></td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td valign="top">
			<p>VMs running on multi-tenant hosts.<br />
			Smaller sizes, balanced resources, and<br />
			CPU and network burst capability<br />
			provide lowest price points and best<br />
			value.</p>
			</td>
			<td valign="top">
			<p>VMs running on multi-tenant hosts.<br />
			Smaller sizes and workload-specific<br />
			designs allow for price-performance<br />
			optimization for your particular<br />
			application.</p>
			</td>
			<td valign="top">
			<p>API-driven, instantly provisioned,<br />
			single-tenant, bare-metal servers.<br />
			Full host and workload-specific<br />
			designs provide large-scale cost<br />
			efficiencies as&nbsp; well as maximum and consistent performance.</p>
			</td>
		</tr>
		<tr>
			<td><strong>General purpose</strong></td>
			<td><strong>Workload optimized</strong></td>
			<td><strong>Workload optimized</strong></td>
		</tr>
		<tr>
			<td valign="top">Class name: <strong>General Purpose v1&nbsp;&nbsp;<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and Standard</strong></td>
			<td valign="top">Class name: <strong>Compute v1</strong></td>
			<td valign="top">Class name: <strong>OnMetal Compute</strong></td>
		</tr>
		<tr>
			<td valign="top">Use cases:
			<ul>
				<li>Test and development</li>
				<li>Low- to medium-traffic web servers</li>
				<li>Batch processing</li>
				<li>Network appliances</li>
				<li>Small to medium databases</li>
			</ul>
			</td>
			<td valign="top">
			<p>Use cases:</p>

			<ul>
				<li>Medim- to large-traffic web servers, application servers, batch processing, and network appliances</li>
			</ul>
			</td>
			<td valign="top">
			<p>Use cases:</p>

			<ul>
				<li>Large-traffic web servers, application servers, batch processing, and network appliances</li>
			</ul>

			<p>&nbsp;</p>
			</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><strong>I/O optimized</strong></td>
			<td><strong>I/O optimized</strong></td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td>Class name: <strong>I/O v1</strong></td>
			<td>Class name: <strong>OnMetal I/O</strong></td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td valign="top">Use cases:
			<ul>
				<li>Medium to large relational databases and NoSQL data stores</li>
			</ul>
			</td>
			<td valign="top">Use cases:
			<ul>
				<li>Large-scale online transaction processing (OLTP), relational databases, and NoSQK data stores</li>
			</ul>
			</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><strong>Memory optimized</strong></td>
			<td><strong>Memory optimized</strong></td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td>Class name: <strong>Memory v1</strong></td>
			<td>Class name: <strong>OnMetal Memory</strong></td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td valign="top">Use cases:
			<ul>
				<li>Medium to large caches, search indexes, and in-memory analytics</li>
			</ul>
			</td>
			<td valign="top">Use cases:
			<ul>
				<li>Large caches, search indexes, and in-memory analytics</li>
			</ul>
			</td>
		</tr>
	</tbody>
</table>

<h3 class="p1">Performance testing in Linux</h3>

<p class="p1">If your application is running on a Linux system, there are many utilities that you can use to determine how well your server is handling the load. &nbsp;The main statistics you should examine are the <strong>load average</strong> on the server and the <strong>available memory</strong> while your application is running.</p>

<p class="p1"><strong>free</strong>: This is a quick and easy monitoring utility that gives you a snapshot view of the amount of available memory on your server. Adding the -m&nbsp;switch to the command shows you available memory in megabytes (as opposed to the default kilobytes). &nbsp;<a href="http://www.rackspace.com/knowledge_center/index.php/Memory_Management_with_free">Read the detailed article</a> about how to use the <code>free</code> command.</p>

<p class="p1"><img alt="" src="http://c14994050.r50.cf2.rackcdn.com/free-m.png" /></p>

<p class="p1">&nbsp;</p>

<p class="p1"><strong>Top</strong>: This utility is useful for more than just checking available memory. &nbsp;You can also view the load average on the server, and the processes that are using the most resources on your server. &nbsp;<a href="http://www.rackspace.com/knowledge_center/index.php/System_Monitoring_with_top">Read the detailed article</a> about how to use the <code>top</code> command.</p>

<p class="p1"><img alt="" src="http://c14994050.r50.cf2.rackcdn.com/top.png" /></p>

<p class="p1">&nbsp;</p>

<p class="p1"><strong>iotop</strong>: You can use the 'iotop' command to monitor disk I/O on a per-process basis. &nbsp;<a href="http://www.rackspace.com/knowledge_center/content/using-iotop-check-io-and-swap">Read the detailed article</a> about how to use the <code>iotop</code> command.</p>

<p class="p1"><img alt="" height="291" src="/knowledge_center/sites/default/files/field/image/2013-08-08_1232.png" width="494" /></p>

<p class="p1"><strong>dstat</strong>: The <code>dstat</code> command also shows you the I/O statistics and other information with more versatility than other commands, in terms of reporting. &nbsp;<a href="http://www.rackspace.com/knowledge_center/content/using-dstat-check-io-and-swap">Read the detailed article</a> about how to use the <code>dstat</code> command.</p>

<p class="p1"><img alt="" src="http://c14994050.r50.cf2.rackcdn.com/dstat.png" /></p>

<p class="p1">Both iotop and dstat might require extra packages to be installed on your server.</p>

<p class="p1">&nbsp;</p>

<p class="p1">If you use these tools while running your web application and you see an excessive load average or excessive memory usage, you need to tune either your application or choose a more powerful server flavor on which to run it.&nbsp; Following are some other tools that you can use to benchmark and monitor your servers and applications.</p>

<p class="p1">&nbsp;</p>

<h3 class="p1">Resources for testing your system</h3>

<p class="p1"><strong>apache "mod_status" module</strong> - Use this module with Apache to see how many connections are being used, and how you might need to change its setup. &nbsp;<a href="http://articles.slicehost.com/2010/3/26/enabling-and-using-apache-s-mod_status-overview">Read the detailed article</a> on the apache mod_status module.</p>

<p class="p1"><a href="http://httpd.apache.org/docs/2.0/programs/ab.html"><strong>ApacheBench</strong></a> - This HTTP load generating tool reports how many requests per second your application can process.</p>

<p class="p1"><strong><a href="http://jmeter.apache.org/">Apache JMeter</a></strong>&nbsp;- provides load testing and performance monitoring for web applications.</p>

<p class="p1"><strong><a href="http://munin-monitoring.org/">Munin</a></strong> - This monitoring system enables you to see your server statistics through a web interface. &nbsp;<a href="http://www.rackspace.com/knowledge_center/content/how-install-munin-monitoring-systems">Read the detailed article</a> on using Munin.</p>

<p class="p1">&nbsp;</p>

<p class="p1">&nbsp;</p>

<h3 class="p1">Additional resources:&nbsp; Scaling, tuning, and load balancing</h3>

<p class="p1">Video: &nbsp;<a href="http://www.rackspace.com/knowledge_center/video/techniques-to-scale-rapidly-in-traffic-spikes">Techniques to Scale Rapidly in Traffic Spikes</a></p>

<p class="p1">Article: &nbsp;<a href="http://www.rackspace.com/blog/scaling-for-the-holidays-part-1-to-scale-vertically-or-horizontally/" target="_self">Scaling for the Holidays -&nbsp;To Scale Vertically or Horizontally?</a></p>

<p class="p1">Article: &nbsp;<a href="http://www.rackspace.com/blog/scaling-for-the-holiday-series-part-2-take-advantage-of-caching/%20" target="_self">Scaling for the Holidays - Take Advantage of Caching</a></p>

<p class="p1">Article: <a href="http://www.rackspace.com/blog/holiday-scaling-web-server-tuning/" target="_self">Scaling for the Holidays - Web Server Tuning</a></p>

<p class="p1">Article: <a href="http://www.rackspace.com/blog/scaling-for-the-holidays-part-4-load-balancers/%20">Scaling for the Holidays - Load Balancers</a></p>

<p class="p1">&nbsp;</p>
