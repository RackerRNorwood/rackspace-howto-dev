---
node_id: 4660
title: Work with origins and origin rules in Rackspace CDN
permalink: article/work-with-origins-and-origin-rules-in-rackspace-cdn
type: article
created_date: '2015-05-11 14:24:48'
created_by: Rackspace Support
last_modified_date: '2015-10-02 16:1132'
last_modified_by: catherine.richardson
products: Rackspace CDN
categories: Content Delivery Network
body_format: tinymce
---

<p>You can add origins to your CDN service. For example, if all your images are stored in a Cloud Block Storage volume attached to one server, and your web code lives on another server, you need to specify both servers as origins. If you add an origin, you must always add an origin rule that defines which traffic should pull from that origin.</p>

<p>After you create your service, you enter origin rules in the <strong>Origin Rules</strong> section of the CDN service page. A <strong>Default Origin</strong> rule is created for the origin that you defined when you created your service.</p>

<p><img alt="" border="2" height="256" src="/knowledge_center/sites/default/files/field/image/Screen%20Shot%202015-07-15%20at%202.06.36%20PM.png" width="726" /></p>

<p class="MsoNormal"><strong>Note</strong>: If you have specified only one origin for a service, the <strong>Add Rule</strong> button does not display. You must have at least two origins defined for the <strong>Add Rule</strong> button to be shown in the dialog.</p>

<p class="MsoNormal">If you create multiple origin rules, you must order the rules from least specific to most specific. For more information about rules, see the following sections and <a href="https://www.rackspace.com/knowledge_center/article/rackspace-cdn-edge-rules">Rackspace CDN edge rules</a>.</p>

<p class="MsoNormal">&nbsp;</p>

<h3>To add an origin</h3>

<p>To add an additional origin to your service, follow these steps:</p>

<p>1. In the <strong>Service Details</strong> section, click <strong>Add Origin</strong>.</p>

<p>2. Enter the IP address or domain name of the origin where your content resides.</p>

<p>3. Enter the path for the origin. You can use a wildcard for the path.</p>

<p><img alt="" height="166" src="/knowledge_center/sites/default/files/field/image/AddOrigin.png" width="376" /></p>

<p>4. Click <strong>Save Origin</strong>. The <strong>Service Status</strong> is <strong>Pending</strong> until the new origin is deployed. After the origin is deployed, it is displayed in the <strong>Origin</strong> list under <strong>Service Details.</strong></p>

<p>&nbsp;</p>

<h3>To specify the Host Header</h3>

<p>To change the <strong>Host Header</strong> for any origin that you create, follow these steps to create an origin rule:</p>

<p>1. Click the pencil icon (<img alt="" height="26" src="/knowledge_center/sites/default/files/field/image/Screen%20Shot%202015-07-15%20at%202.44.26%20PM.png" width="23" />) beside the origin name.&nbsp;&nbsp; A popup dialog box appears.</p>

<p><img alt="" border="2" height="223" src="/knowledge_center/sites/default/files/field/image/Screen%20Shot%202015-07-15%20at%202.45.32%20PM.png" width="665" /></p>

<p>2. Select the type of Host Header from the dropdown. The following types are available:</p>

<ul>
	<li><strong>Domain</strong>: The default value. The Host Header takes a NULL value. Using Domain indicates that the Host Header in the queries from the CDN edge nodes to the origin will match the domain on which the request comes in.&nbsp;&nbsp;&nbsp;</li>
	<li><strong>Origin</strong>: The Host Header takes the value of the origin domain. Using Origin indicates the Host Header in the queries from the CDN edge nodes to the origin will match the name of the origin server.</li>
	<li><strong>Custom</strong>: The Host Header takes the value, for which an entry box opens, that you specify. Using Custom indicates that the Host Header in the queries from the CDN edge nodes to the origin will match the custom value that you provide in the entry box.</li>
</ul>

<p>Following are several use cases for the Host Header capability, particularly related to using Virtual Hosts (VHOST):</p>

<p>1.&nbsp; You have one or more domains that point to a single origin using Virtual Hosts. You can set up each domain in the service, and then edit the origin by specifying the Host Header type.</p>

<ul>
	<li>A type of <strong>Domain</strong> means that the domain entered in the URL is what will be forwarded to the origin and mapped to a VHOST.&nbsp; If multiple VHOSTs exist, they should match the domain name.</li>
	<li>A type of <strong>Origin</strong> means that the origin domain set up is what will be forwarded in the host header and mapped to a VHOST.&nbsp; This is useful if each domain serves content from the same VHOST and the VHOST is setup to match the origin name.</li>
	<li>A type of <strong>Custom</strong> means that the custom value entered by the user will be sent to the origin and mapped to a VHOST.&nbsp; This is useful if the VHOST is set up to respond to host headers different from the origin name or domain name.</li>
</ul>

<p>2.&nbsp; You have more than one domain that point to a single origin, but want to use different VHOSTs for each domain (overriding the Host Header for each domain).</p>

<p>For this use case, you can create multiple services for each domain, allowing them to specify a different Host Header for the origin for each service.</p>

<p>&nbsp;</p>

<h3>To create an origin rule</h3>

<p>After you have created your service and added an additional origin, follow these steps to create an origin rule:</p>

<p>1. Click <strong>Add Rule</strong>. The <strong>Add Rule</strong> button appears only if you have multiple origins for the service. A popup dialog box appears.</p>

<p><img alt="" height="176" src="/knowledge_center/sites/default/files/field/image/createOriginRule.png" width="370" /></p>

<p>2. Enter the following information to define the rule:</p>

<ul>
	<li><strong>Name</strong>: Name for the rule.</li>
	<li><strong>Origin</strong>: The origin to which the rule applies. Select the origin from the menu, which shows the origins that are defined for the service.</li>
	<li><strong>Path</strong>: Path for the rule.</li>
</ul>

<p>3. Click <strong>Save Rule</strong>. The <strong>Service Status</strong> is <strong>Pending</strong> until the new rule is deployed. After the rule is deployed, it is displayed in the <strong>Origin Rules</strong> list.</p>

<p><img alt="" border="2" height="284" src="/knowledge_center/sites/default/files/field/image/Screen%20Shot%202015-07-15%20at%202.27.59%20PM.png" width="743" /></p>

<p>&nbsp;</p>

<h3>To edit an origin rule</h3>

<p>To edit an origin rule, follow these steps:</p>

<p>1. Click the gear icon beside the rule that you want to edit, and select <strong>Edit Rule</strong>.</p>

<p>2. In the popup dialog box, edit the name of the rule or the path for the rule.</p>

<p><img alt="" height="160" src="/knowledge_center/sites/default/files/field/image/EditOriginRule.png" width="397" /></p>

<p>3. Click <strong>Save Rule</strong>.&nbsp;The <strong>Service Status</strong> is <strong>Pending</strong> until the updated rule is deployed. After the rule is deployed, it is displayed in the <strong>Origin Rules</strong> list.</p>

<p>&nbsp;</p>

<h3>To delete an origin rule</h3>

<p>To delete an origin rule, follow these steps:</p>

<p>1. Click the gear icon beside the rule that you want to delete, and select <strong>Delete Rule</strong>.</p>

<p>2. In the popup dialog box, click <strong>Delete Rule</strong>.</p>

<p><img alt="" height="136" src="/knowledge_center/sites/default/files/field/image/DeleteOriginRule.png" width="210" /></p>

<p>The <strong>Service Status</strong> is <strong>Pending</strong> until the rule is deleted. After the rule is deleted, it is removed from the <strong>Origin Rules</strong> list.</p>

<p>&nbsp;</p>

<h4><a href="https://www.rackspace.com/knowledge_center/article/add-and-manage-domains-in-rackspace-cdn">&lt; Add and manage domains with Rackspace CDN</a>&nbsp;&nbsp;&nbsp; -&nbsp;&nbsp;&nbsp; <a href="https://www.rackspace.com/knowledge_center/article/create-and-manage-caching-rules-in-rackspace-cdn">Create and manage caching rules in Rackspace CDN &gt;</a></h4>

<p>&nbsp;</p>
