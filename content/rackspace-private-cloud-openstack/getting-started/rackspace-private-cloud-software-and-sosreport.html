---
node_id: 3190
title: Rackspace Private Cloud Software and sosreport
permalink: article/rackspace-private-cloud-software-and-sosreport
type: article
created_date: '2012-11-09 19:36:09'
created_by: Karin Levenstein
last_modified_date: '2012-11-15 07:0106'
last_modified_by: jered.heeschen
products: Rackspace Private Cloud - OpenStack
categories: Getting Started
body_format: tinymce
---

<p>This document is intended for Rackspace Private Cloud customers who want use <code>sosreport</code> tool to help troubleshoot their Rackspace Private Cloud environment. It is assumed that you have successfully installed a cloud with Rackspace Private Cloud Software and are familiar with OpenStack.</p><h2><a name="sosreport"></a>The SOS Tool</h2><p>Rackspace Private Cloud Software installs the <a class="link" href="https://github.com/sosreport/sosreport" target="_top"><code>sosreport</code> tool for Ubuntu</a>, which can be used to collect, analyze, and report information that will help you or Rackspace Support troubleshoot issues in your Rackspace Private Cloud environment. The <code>sosreport</code> package is installed from the <a class="link" href="https://launchpad.net/~osops-packaging/+archive/ppa" target="_top">OS Ops team PPA</a>.</p><h2><a name="sosreport-commands"></a>sosreport Command List</h2><p>The complete list of <code>sosreport</code> options is displayed with <code>sosreport --help</code>.</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>sosreport --help</code></strong>
<code class="computeroutput">Usage: sosreport [options]

Options:
  -h, --help            show this help message and exit
  -l, --list-plugins    list plugins and available plugin options
  -n NOPLUGINS, --skip-plugins=NOPLUGINS
                        skip these plugins
  -e ENABLEPLUGINS, --enable-plugins=ENABLEPLUGINS
                        enable these plugins
  -o ONLYPLUGINS, --only-plugins=ONLYPLUGINS
                        enable these plugins only
  -k PLUGOPTS           plugin options in plugname.option=value format (see
                        -l)
  -a, --alloptions      enable all options for loaded plugins
  -u UPLOAD, --upload=UPLOAD
                        upload the report to an ftp server
  --batch               do not ask any question (batch mode)
  --no-colors           do not use terminal colors for text
  -v, --verbose         increase verbosity
  --silent              Only display FATAL errors on stdout
  --debug               enabling debugging through python debugger
  --ticket-number=TICKETNUMBER
                        set ticket number
  --name=CUSTOMERNAME   define customer name
  --config-file=CONFIG_FILE
                        specify alternate configuration file
  --tmp-dir=TMP_DIR     specify alternate temporary directory
  --diagnose            enable diagnostics
  --analyze             enable analyzations
  --report              Enable html/xml reporting
  --profile             turn on profiling
  -z COMPRESSION_TYPE, --compression-type=COMPRESSION_TYPE
                        compression technology to use [auto, zip, gzip, bzip2,
                        xz] (default=auto)</code></pre><div class="section" title="Using sosreport"><h2><a name="using-sosreport"></a>Using sosreport</h2><p>Before you begin to use <code>sosreport</code>, log into the node with the OS username and password that you created during the installation process. Once you are successfully logged in, use <span class="command"><strong>sudo -i</strong></span> to switch to root access.</p><div class="section" title="Generating a report"><h3 class="title"><a name="generate-report"></a>Generating a report</h3><p>To generate a basic report with default settings, run the command on the command line:</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>sosreport</code></strong></pre><p>You will be prompted to confirm that you want to generate the report. Press <span class="bold"><strong>Enter</strong></span> to continue.</p><p>At the prompt, enter your first initial and last name. If you have been assigned a case number by your Rackspace support representative, enter it at the prompt.</p><pre class="screen"><code class="computeroutput">Please enter your first initial and last name [ctrl]:</code> <strong class="userinput"><code>jdoe</code></strong>
<code class="computeroutput">Please enter the case number that you are generating this report for:</code> <strong class="userinput"><code>1234</code></strong></pre><p>When the report is complete, the utility will display a message showing you where the report <code class="filename">tar.xz</code> file has been saved and the checksum for the report.</p><pre class="screen"><code class="computeroutput">Your sosreport has been generated and saved in:
  /tmp/sosreport-jdoe.1234-20120907125725.tar.xz

The checksum is: acfcceaa72242483edece9e3b97687f1</code></pre><p>You can now send the <code class="filename">.tar.xz</code> file to Rackspace Support.</p><p>If required, you can run <code>sosreport</code> with additional reporting options. For example, the <span class="command"><strong>--diagnose</strong></span> option includes diagnostic options, and the <span class="command"><strong>--report</strong></span> option generates an html-formatted list of the files copied in the report. Include additional options if requested by Rackspace Support.</p><div class="section" title="sosreport plugins"><h3 class="title"><a name="sosreport-plugins"></a>sosreport plugins</h3><p>Depending on your issue and the instructions of Rackspace Support, you may need to disable or enable certain plugins when the report is generated. To view a full list of the plugins, use <span class="command"><strong>sosreport -l</strong></span>. The output will be similar to the following example.</p><pre class="screen">root@ctrl:~# sosreport -l

sosreport (version 2.3)

The following plugins are currently enabled:

 apache          Apache related information for Debian distributions
 apparmor        Apparmor related information
 apport          apport information
 bootloader      Bootloader information
 crontab         Crontab information
 dpkg            dpkg information
 filesys         information on filesystems
 gdm             gdm related information
 general         Basic system information for Debian based distributions
 hardware        hardware related information for Debian distribution
 i18n            i18n related information
 kernel          kernel related information
 kvm             KVM related information
 libraries       information on shared libraries
 libvirt         libvirt-related information
 memory          memory usage information
 openssl         openssl related information for Debian distributions
 printing        printing related information (cups)
 ssh             ssh-related information
 x11             X related information

The following plugins are currently disabled:

 as7         inactive    JBoss related information
 autofs      inactive    autofs server-related on Debian based distributions
 dhcp        inactive    DHCP related information for Debian based 
                         distributions
 initrd      not default initrd related information
 ipsec       inactive    ipsec related information for Debian distributions
 iscsi       inactive    iscsi-initiator related information Debian based 
                         distributions
 kdump       inactive    Kdump related information for Debian distributions
 nscd        inactive    NSCD related information
 openstack   inactive    OpenStack related information for Debian based 
                         distributions
 radius      inactive    radius related information on Debian distributions
 sar         inactive    Generate the sar file from /var/log/sa/saXX files
 sssd        inactive    sssd-related Diagnostic Information on Debian based 
                         distributions
 xinetd      inactive    xinetd information

The following plugin options are available:

 apache.log            off  gathers all apache logs
 filesys.dumpe2fs      off  dump filesystem information
 general.syslogsize    15   max size (MiB) to collect per syslog file
 general.all_logs      off  collect all log files defined in syslog.conf
 kernel.modinfo        on   gathers information on all kernel modules
 kvm.topOutput         off  5x iterations of top data
 libraries.ldconfigv   off  the name of each directory as it is scanned, 
                            and any links that are created.
 printing.cups         50   max size (MiB) to collect per cups log file</pre><p>Here are some examples of using sosreport plugins to customize the report.</p><ul><li>To enable only the OpenStack plugin:<pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>sosreport -o openstack</code></strong></pre></li><li>To disable apache and xll plugins:<pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>sosreport -n apache,xll</code></strong></pre></li><li>To collect all log files defined in syslog.conf:<pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>sosreport -k general.all_logs=on</code></strong></pre></li></ul></div></div></div>
