---
node_id: 3261
title: RackConnect Auto NAT Feature
permalink: article/rackconnect-auto-nat-feature
type: article
created_date: '2013-01-16 15:15:04'
created_by: juan.perez
last_modified_date: '2014-10-21 19:3159'
last_modified_by: kyle.laffoon
products: RackConnect
categories: Server Management
body_format: tinymce
---

<p><span style="line-height: 1.538em;">RackConnect Auto NAT is a new feature available to RackConnect 2.0 customers that have Automation Features enabled.&nbsp; It provides the ability to allocate a set of pre-routed dedicated public IP addresses for use with new RackConnect cloud servers. &nbsp;This allows you to assign one of the specific public IP addresses from the set to new RackConnect cloud servers at build time.&nbsp; These IP addresses are allocated out of your dedicated IP address space, just like normal RackConnect public IP addresses are, but with Auto NAT IP addresses, you now have the ability to select the specific IP that is assigned to a cloud server at build time.</span></p>

<h3>Requirements for utilizing the RackConnect Auto NAT feature</h3>

<ol>
	<li>RackConnect 2.0 Automation Features must be enabled on your cloud account.</li>
	<li>A set of dedicated public IP addresses must be allocated for use with the Auto NAT feature.&nbsp; Your Support Team can help you get this set up.</li>
	<li>Once your Auto NAT IP addresses have been allocated, your Support Team will provide you with a list of Auto NAT Public IP addresses that have been allocated to you.</li>
	<li>When creating new cloud servers, you must use the <a href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/ch_preface.html">Cloud Servers API</a> to enter the Metadata information required to assign an Auto NAT IP to a cloud server at build time</li>
	<li>When creating a new cloud server you would like configured with an Auto NAT Public IP, you will need to enter the following Metadata values to assign that IP to the cloud server:
	<ul>
		<li><strong>Key</strong>: RackConnectPublicIP</li>
		<li><strong>Value</strong>: &lt;Enter the Auto NAT Public IP Address you would like to use&gt;</li>
	</ul>
	</li>
</ol>

<p><strong>IMPORTANT</strong>: You can specify the metadata values when you use the Cloud Servers API to create new cloud servers. Please view the Cloud Servers API documentation for more details about how to use the API to enter metadata information for a cloud server: <a href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/Create_or_Replace_Metadata-d1e5358.html">Cloud Servers Developer Guide: Set Metadata</a>.</p>

<p><em style="line-height: 1.538em;">NOTE: </em><em style="line-height: 1.538em;">The Auto NAT feature is set at the RackConnect Configuration level. &nbsp;You can utilize Auto NAT IP addresses that have been allocated to your configuration across multiple cloud accounts in your environment as long as they are part of the same RackConnect Configuration, and as long as each cloud account has Automation Features enabled.</em></p>

<p><strong>IMPORTANT: </strong>If you attempt to assign an Auto NAT IP address that is already in use, the allocation process will fail silently and will revert to allocating a normal (Non-Auto NAT) IP address to your cloud server.</p>

<h3>Auto NAT feature benefits</h3>

<p>By utilizing the Auto NAT feature, you now have the ability to effectively move a single public IP address across cloud servers as you provision and de-provision them.&nbsp; Please keep in mind that the Auto NAT feature only assigns a designated IP address to a cloud server during the initial build process, so the Auto NAT feature will *not* allow you to move an Auto NAT IP address between two cloud servers that are already in an active state.&nbsp;</p>

<p><span style="line-height: 1.538em;">Here is a scenario that covers one possible method you can use to move a single public IP address to a new cloud server using the Auto NAT feature. &nbsp;</span><span style="line-height: 1.538em;">Let us say you have created a cloud server called MyAutoNAT-A and built it with an AutoNAT IP address of 10.A.A.A. &nbsp;Y</span><span style="line-height: 1.538em;">ou then decide to build a new server call&nbsp;</span><span style="line-height: 1.538em;">MyAutoNAT-B, but you would like it to use the AutoNAT IP address that is currently assigned to&nbsp;</span>MyAutoNAT-A&nbsp;<span style="line-height: 1.538em;">of&nbsp;10.A.A.A.</span></p>

<ol>
	<li>The first step towards accomplishing this is going to be to delete the&nbsp;MyAutoNAT-A cloud server, so that the&nbsp;AutoNAT IP address of 10.A.A.A is placed back into the set of available AutoNAT IP addresses.</li>
	<li>Now you can create the&nbsp;MyAutoNAT-B cloud server, and during the build process you can enter the Metadata 'Key' of RackConnectPublicIP, along with an associated Auto NAT IP address 'Value' of&nbsp;10.A.A.A.</li>
</ol>

<h3><span style="line-height: 1.538em;">Removing Auto NAT IP addresses</span></h3>

<p>As discussed in the scenario above, Auto NAT IP addresses are only removed from a cloud server and placed back into the set of available Auto NAT IP addresses when that cloud server is deleted. &nbsp;It is not possible to remove the Auto NAT IP address assigned to a cloud server that is still 'Active'.</p>

<h3>Additional Information</h3>

<p>The Auto NAT feature is available to all RackConnect 2.0 customer with Automation Features enabled as of January 16, 2013.&nbsp; For details regarding the RackConnect Automation features, please view the <a href="http://www.rackspace.com/knowledge_center/article/rackconnect-automation-features-faq">RackConnect Automation Features FAQ</a>.</p>

<p>If you have any further questions regarding the RackConnect Auto NAT feature, please contact your Support Team.</p>
