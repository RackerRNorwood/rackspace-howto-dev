---
node_id: 4554
title: Migrate a MySQL 5.1 database to MariaDB 10 on Cloud Sites
permalink: article/cloud-sites-upgrading-mysql-51-to-mariadb-10
type: article
created_date: '2015-02-09 16:42:56'
created_by: thomas.hester
last_modified_date: '2015-09-15 00:1707'
last_modified_by: kelly.holcomb
products: Cloud Sites
categories: Configuration
body_format: tinymce
---

<p>Cloud Sites has added MariaDB 10 as a database option. Although it is a different engine, it is fully&nbsp;compatible with the MySQL&nbsp;connections and syntax. This upgrade is an effort to keep Cloud Sites up-to-date with current software, security, and usability.&nbsp;New databases can be provisioned with MariaDB, and users&nbsp;can migrate their&nbsp;databases from MySQL 5.1 to MariaDB by creating a backup and then importing to a new MariaDB database. This article provides the steps for such a migration.</p>

<p><strong>Notes:</strong></p>

<ul>
	<li>MySQL 5.1 can still be provisioned, and no databases will be forced to migrate.<br />
	&nbsp;</li>
	<li>Currently, customers cannot perform backups that call <strong>mysqldump </strong>because the version on the servers is incompatible with MariaDB 10. However, Support can perform these backups.</li>
</ul>

<h2><strong><span>Availability of MariaDB</span></strong></h2>

<p>MariaDB is now available in the ORD data center and will be available in the DFW data center in the future. We do not currently have a timeline for deployment in DFW.</p>

<h2><strong>MariaDB instead of MySQL 5.6</strong></h2>

<p>MariaDB has several features available on top of what is available for MySQL 5.6. See the following links for more information:</p>

<ul>
	<li>
	<p><a href="https://mariadb.com/kb/en/mariadb/mariadb-vs-mysql-features/"><span>https://mariadb.com/kb/en/mariadb/mariadb-vs-mysql-features/</span></a></p>
	</li>
	<li>
	<p><a href="https://mariadb.com/kb/en/meta/about-the-mariadb-knowledge-base/"><span><span>https://mariadb.com/kb/en/meta/about-the-mariadb-knowledge-base/</span></span></a></p>
	</li>
	<li>
	<p><a href="https://mariadb.com/kb/en/mariadb/mariadb-vs-mysql-compatibility/"><span><span><span><span>https://mariadb.com/kb/en/mariadb/mariadb-vs-mysql-compatibility/</span></span></span></span></a></p>
	</li>
</ul>

<h2><strong>Migrate your database from MySQL to MariaDB</strong></h2>

<h3><strong>Step 1: Create your MariaDB database in the Cloud Sites control panel</strong></h3>

<ol>
	<li>Log in to the Cloud SItes Control Panel.<br />
	&nbsp;</li>
	<li>Navigate to the site for which&nbsp;you want to add the database.<br />
	&nbsp;</li>
	<li>Click the <strong>Features </strong>tab.<br />
	&nbsp;</li>
	<li>Under<span>&nbsp;Databases, click <strong>Add</strong>.</span><br />
	&nbsp;</li>
	<li>Enter a unique name for the database, select <strong>MariaDB </strong>from the <strong>Database Type</strong> menu, and then click <strong>Continue</strong>.&nbsp;<br />
	&nbsp;</li>
	<li>Enter the username and password to use for the database, and&nbsp;then click <strong>Finish</strong>.<br />
	<br />
	The <strong>Features </strong>tab is displayed again.<br />
	&nbsp;</li>
	<li>Click on the newly created database to display the hostname information, whcih&nbsp;you will need in Step 3.
	<p><img alt="Database connection information" border="2" height="312" src="/knowledge_center/sites/default/files/field/image/db_info.png" width="600" /></p>
	</li>
</ol>

<h3><strong>Step 2: Put your site into maintenance mode and export your current database</strong></h3>

<p>There are multiple ways to put a site into maintenance mode, or otherwise take it offline temporarily, but those instructions are beyond the scope of this article. The most simple method is to rename your content folder in an FTP client and create a new content folder with an <strong>index.html</strong> file that contains your maintenance message. After the database migration is completed, you reverse this action.</p>

<p>Export your current MySQL database either by <a href="/knowledge_center/node/661">using phpMyAdmin</a> or by <a href="/knowledge_center/node/644">using a cron task</a>.</p>

<p>After it is exported, you will&nbsp;import the database backup to MariaDB by using the same method that you used to export the file.</p>

<h3><strong>Step 3: Update your connection strings to the new MariaDB settings</strong></h3>

<p>Open any files that contain the connection&nbsp;settings for your database, and update them to the MariaDB settings from the database information&nbsp;window that was displayed at the end of Step 1.</p>

<h3><strong>Step 4: Put your site back online</strong></h3>

<p>Take the site out of maintenance mode&nbsp;and refresh any caches on your site to ensure that all references are updated for the new connections. The data is the same as it was, but it's good practice to refresh after a technology&nbsp;change to ensure that&nbsp;everything is up-to-date and works as expected.</p>
