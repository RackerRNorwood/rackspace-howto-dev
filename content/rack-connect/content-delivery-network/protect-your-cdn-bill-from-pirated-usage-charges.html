---
node_id: 2155
title: Protect your Cloud Files CDN Bill from Unexpected Usage
permalink: article/protect-your-cdn-bill-from-pirated-usage-charges
type: article
created_date: '2012-09-11 19:19:57'
created_by: megan.meza
last_modified_date: '2015-09-04 19:5520'
last_modified_by: constanze.kratel
products: RackConnect
categories: Content Delivery Network
body_format: tinymce
---

<p class="MsoNormal"><span style="mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; color: black;">When choosing to use the content delivery network (CDN) to accelerate your website and images/videos/etc. on that website, you are responsible for all bandwidth costs associated with delivery of your content over the public Internet, including bandwidth incurred due to piracy.&nbsp; </span><span style="mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman';">This article is designed to help you monitor and protect your CDN usage.<span style="mso-spacerun: yes;">&nbsp; </span></span></p><p class="MsoNormal">When using the CDN, all your assets are assigned a CDN URL.<span style="mso-spacerun: yes;">&nbsp; </span>As you probably know, your website will then have that CDN URL in its source code and display it when a user requests to see it.<span style="mso-spacerun: yes;">&nbsp; </span>There are companies and individuals that target websites’ asset URLs and serve them without the site owner’s permission.<span style="mso-spacerun: yes;">&nbsp; </span>This is known as “hot linking” and can result in a massive increase to your CDN bill if the problem goes unnoticed.<span style="mso-spacerun: yes;">&nbsp; </span></p><p>&nbsp;There are two basic ways to protect yourself, your content, and your invoice from hot linking:<span style="mso-spacerun: yes;">&nbsp; </span>(1) constant monitoring and alerts for abnormal CDN bandwidth usage, and (2) proactive measures to make it more difficult to access your site’s source code.<span style="mso-spacerun: yes;">&nbsp; </span>I’ll review some options of both below.</p><p>&nbsp;</p><h2 style="margin-left: -27.0pt;">Monitoring/Alerting:</h2><p class="MsoNormal"><strong style="mso-bidi-font-weight: normal;"><em style="mso-bidi-font-style: normal;">Control Panel</em></strong></p><p class="MsoNormal">Customers can always see their current usage in the Cloud Control Panel.<span style="mso-spacerun: yes;">&nbsp; </span>You can find this information by going to <a href="http://mycloud.rackspace.com">http://mycloud.rackspace.com</a>.<span style="mso-spacerun: yes;">&nbsp; </span>Under your username, click on the option for “First Generation Control Panel”</p><p>&nbsp;<img title="" src="http://www.rackspace.com/knowledge_center/sites/default/files/field/image/cfoncp_0.jpg" alt="Link to First Gen Control Panel" width="550" height="261" /></p><p class="MsoNormal"><span style="mso-spacerun: yes;">&nbsp;</span>Once you’re in the First Generation Control Panel, you will see usage for all your products.<span style="mso-spacerun: yes;">&nbsp; </span>These usage numbers will reflect all usage on your current billing period.<span style="mso-spacerun: yes;">&nbsp; </span>If you are using multiple Rackspace cloud products, you may need to scroll down to Find your Cloud Files usage.<span style="mso-spacerun: yes;">&nbsp; </span></p><p><img title="" src="http://www.rackspace.com/knowledge_center/sites/default/files/field/image/cfusage_0.jpg" alt="Home Page Usage" width="550" height="419" /></p><p class="MsoNormal"><strong style="mso-bidi-font-weight: normal;"><em style="mso-bidi-font-style: normal;">CDN Logs</em></strong></p><p class="MsoNormal">Every CDN customer has the ability to turn on CDN logs for their containers that are CDN enabled.<span style="mso-spacerun: yes;">&nbsp; </span>You can easily enable these logs via the Cloud Files API [link] or from your Cloud Control Panel at <a href="http://mycloud.rackspace.com">http://mycloud.rackspace.com</a>.</p><p><img title="" src="http://www.rackspace.com/knowledge_center/sites/default/files/field/image/enablelogs_0.jpg" alt="Enabling Logs" width="550" height="328" />&nbsp;</p><p class="MsoNormal">Once you have enabled CDN logs for your content, Cloud Files will create a container for you and deliver logs to that container.<span style="mso-spacerun: yes;">&nbsp; </span>The frequency of log delivery can vary by how heavy traffic is on the CDN, but logs are usually delivered every four hours.<span style="mso-spacerun: yes;">&nbsp; </span></p><p class="MsoNormal">&nbsp;The log files inside of the container, named “.CDN_ACCESS_LOGS” will be prefixed with the container they are logging, followed by the date and time stamp.<span style="mso-spacerun: yes;">&nbsp;&nbsp; </span>This makes it easy to find logs for a specific time period.<span style="mso-spacerun: yes;">&nbsp; </span></p><p><img title="" src="http://www.rackspace.com/knowledge_center/sites/default/files/field/image/cfaccesslogs_0.jpg" alt="Sample CDN Log Container" width="550" height="347" /><br />&nbsp;</p><p class="MsoNormal">If you find that your content has been hot linked, you can use your CDN logs to find which URLs are compromised and take action immediately.<span style="mso-spacerun: yes;">&nbsp; </span></p><p>&nbsp;</p><p class="MsoNormal"><strong style="mso-bidi-font-weight: normal;"><em style="mso-bidi-font-style: normal;">Third Party Log Analysis</em></strong></p><p class="MsoNormal">&nbsp;There are several companies in the market that will take the hassle out of parsing the logs in your CDN log container.<span style="mso-spacerun: yes;">&nbsp; </span>These companies take the raw logs that Rackspace delivers to your account and make them easy to consume and understand.<span style="mso-spacerun: yes;">&nbsp; </span>For example, they will show you peak traffic times, geographic regions that access your data the most, etc.<span style="mso-spacerun: yes;">&nbsp; </span></p><p class="MsoNormal">&nbsp;For monitoring purposes, most of these tools allow you to set up alerts for when usage reaches a certain level, or if it has increased by a certain amount.<span style="mso-spacerun: yes;">&nbsp; </span>This is a great way to get monitoring without having to code a solution yourself.</p><p class="MsoNormal">&nbsp;Rackspace has two <a href="https://cloudtools.rackspace.com/home">Cloud Tools Partners</a> that provide these features, <a href="https://cloudtools.rackspace.com/apps/445?1601080659">Cloud Ability</a> and <a href="https://cloudtools.rackspace.com/apps/399?1814232928">QloudStat</a>.<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span></p><p>&nbsp;</p><h2 style="margin-left: -.5in;">Hiding Source Code:</h2><p>While completely hiding your source code is impossible, below are some common tools that can serve as a first line of defense against those looking to pirate content. <span style="mso-spacerun: yes;">&nbsp;</span>While someone with more technical knowledge will find ways around these, it may take long enough for them to give up.<span style="mso-spacerun: yes;">&nbsp;</span></p><p class="MsoNormal"><strong><span style="text-decoration: underline;">No Right Click Scripts</span></strong></p><p class="MsoNormal">There are scripts that will prevent visitors from using the right-click menu to copy your content’s link or view your site’s source code.<span style="mso-spacerun: yes;">&nbsp; </span>There are other ways to find this information, like using the toolbar at the top of the browser, but preventing right click can be an easy first step to protecting yourself.<span style="mso-spacerun: yes;">&nbsp; </span>If you attempt this method, be sure to check its functionality in a variety of browsers, as the code can be difficult to implement across all of them.<span style="mso-spacerun: yes;">&nbsp; </span></p><p>&nbsp;<strong><span style="text-decoration: underline;">JavaScript Encryption</span></strong></p><p class="MsoNormal">The method involves taking your code, using a custom made function to "encrypt" it somehow, and then putting it in an HTML file along with a function that will decrypt it for the browser. While website visitors will still be able to view your source code, they will not be able to use it without decrypting.<span style="mso-spacerun: yes;">&nbsp; </span>There are plenty tools online that will help encrypt your source code.<span style="mso-spacerun: yes;">&nbsp; </span>Here are some links and examples that might be helpful.<span style="mso-spacerun: yes;">&nbsp; </span></p><p>&nbsp;</p><p><span style="font-family: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol;"><span style="mso-list: Ignore;">·<span style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><a href="http://www.blackbeltcoder.com/Articles/mfc/encrypting-source-code">Encrypting Source Code</a></p><p><span style="font-family: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol;"><span style="mso-list: Ignore;">·<span style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><a href="http://www.webtoolhub.com/tn561359-html-encrypter.aspx">Simple Encrypting Tool</a><span style="mso-spacerun: yes;">&nbsp;</span></p><p class="MsoNormal"><span style="font-family: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol;"><span style="mso-list: Ignore;">·<span style="font: 7.0pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><a href="http://www.htmlguard.com/articles/about-html-source-code-encryption/">Article discussing options for Encryption</a><span style="mso-spacerun: yes;"></span></p><p class="MsoNormal">&nbsp;As mentioned, this method requires the use of JavaScript, meaning that you need to expect your legitimate website traffic to be using browsers and settings that support it.<span style="mso-spacerun: yes;">&nbsp; </span></p><p>&nbsp;</p>
