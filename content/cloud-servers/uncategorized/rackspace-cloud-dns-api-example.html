---
node_id: 1234
title: Rackspace Cloud DNS - API Example
permalink: article/rackspace-cloud-dns-api-example
type: article
created_date: '2011-10-19 21:07:22'
created_by: RackKCAdmin
last_modified_date: '2015-10-20 20:2803'
last_modified_by: kyle.laffoon
products: Cloud Servers
categories: Uncategorized
body_format: tinymce
---

<h3>API Example</h3>

<p>Let's take a look at a simple example using the API.</p>

<p>Every ReST request against the DNS Service requires the inclusion of a specific authorization token, supplied by the X-Auth-Token HTTP header. You can obtain this token by first using the Rackspace Cloud Authentication Service and supplying a valid Rackspace Cloud account username and API access key.</p>

<p>&nbsp;</p>

<h4>Authentication Request</h4>

<p>&nbsp;</p>

<pre>
- curl -D - -H "X-Auth-Key: a86850deb2742ec3cb41518e26aa2d89" -H "X-Auth-User: jdoe" https://auth.api.rackspacecloud.com/v1.0
</pre>

<h4>&nbsp;</h4>

<h4>Authentication Response</h4>

<p>&nbsp;</p>

<pre>
- HTTP/1.1 204 No Content
- (... more ...)
- X-Auth-Token: eaaafd18-0fed-4b3a-81b4-663c99ec1cbb
</pre>

<p>&nbsp;</p>

<p>Once authenticated, you can send requests to an available API endpoint. Our DNS service is a regionalized service and DNS is therefore responsible for appropriate replication., caching, and overall maintenance of DNS data across regional boundaries to other DNS servers. We have endpoints available in the US and the UK.</p>

<ul>
	<li><strong>US https://dns.api.rackspacecloud.com/v1.0/1234</strong></li>
	<li><strong>UK https://ion.dns.api.rackspacecloud.com/v1.0/1234</strong></li>
</ul>

<p><strong>&nbsp;</strong></p>

<h4>List Domain Details Request</h4>

<p>Next, let's take a look at a simple call to the API. For this example, we'll show a List Domain details request. In this request, we are calling the US endpoint at dns.api.rackspacecloud.com, and requesting the domains for account number 1234, and the domain ID 2725511.</p>

<p>&nbsp;</p>

<pre>
- curl -X GET -H "X-Auth-Token:eaaafd18-0fed-4b3a-81b4-663c99ec1cbb" -H "Accept:application/xml" https://dns.api.rackspacecloud.com/v1.0/1234/domains/2725511
</pre>

<h4>&nbsp;</h4>

<h4>Real Response</h4>

<p>This is an example response from the List Domains API call. Here we are showing the XML response, but the DNS API supports both the JSON and XML data serialization formats. The response format can be specified in requests by either using the Accept Header or adding a .xml or .json extension to the request URI. If no response format is specified, JSON will be used by default. If conflicting formats are specified using both an Accept Header and a query extension, the query extension takes precedence.</p>

<p>&nbsp;</p>

<pre>
&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;domain xmlns="http://docs.rackspacecloud.com/dns/api/v1.0”
    id="2725511" accountId="1234" name="rtb0007.com" ttl="3600” emailAddress="sample@rackspace.com" updated="2011-06-24T01:23:15Z” created="2011-06-24T01:12:51Z" comment="Optional domain comment...”&gt;
    &lt;nameservers&gt;
        &lt;nameservername="ns.rackspace.com" /&gt;
        &lt;nameservername="ns1.rackspace.com" /&gt;
    &lt;/nameservers&gt;
    &lt;recordsListtotalEntries="5”&gt;
        &lt;record id="A-6822994" type="A" name="rtb0007.com" data="110.11.12.16”  ttl="86400" updated="2011-06-24T01:12:52Z" created="2011-06-24T01:12:52Z" /&gt;
        &lt;record id="NS-6251982" type="NS" name="rtb0007.com” data="dns1.stabletransit.com" ttl="3600" updated="2011-06-24T01:12:51Z”  created="2011-06-24T01:12:51Z" /&gt;
        &lt;record id="NS-6251983" type="NS" name="rtb0007.com” data="dns2.stabletransit.com" ttl="3600" updated="2011-06-24T01:12:51Z”  created="2011-06-24T01:12:51Z" /&gt;
        &lt;record id="MX-3151218" type="MX" name="rtb0007.com”  data="mail2.rtb0007.com" ttl="3600" priority="5” updated="2011-06-24T01:12:53Z" created="2011-06-24T01:12:53Z" /&gt;
        &lt;record id="CNAME-9778009" type="CNAME" name="www.rtb0007.com”  data="rtb0007.com" ttl="5400" updated="2011-06-24T01:12:54Z”       created="2011-06-24T01:12:54Z" /&gt;
    &lt;/recordsList&gt;
&lt;/domain&gt;</pre>
