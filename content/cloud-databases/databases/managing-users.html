---
node_id: 1524
title: Managing Users for Cloud Databases
permalink: article/managing-users
type: article
created_date: '2012-07-24 00:51:07'
created_by: RackKCAdmin
last_modified_date: '2015-09-03 20:2300'
last_modified_by: constanze.kratel
products: Cloud Databases
categories: Databases
body_format: tinymce
---

<p>You can perform the following user management operations for Cloud Databases:</p><ul><li><a href="#create" target="_self">Create Users with Host Parameters</a></li><li><a href="#modify" target="_self">Modify User Accounts</a></li><li><a href="#manage" target="_self">Manage Database Access for Users</a></li><li><a href="#set" target="_self">Set Access-Level Permissions for Individual Users</a></li></ul><h2><a name="create"></a>&nbsp;</h2><h2>Create Users with Host Parameters</h2><p>&nbsp;You can create a user in the Cloud Databases section of the Cloud Control Panel by clicking on an existing instance name and then clicking Create User in the Users section of the Instance Details page.&nbsp;</p><p><img src="/knowledge_center/sites/default/files/field/image/dbactionsmenu.png" alt="" width="746" height="372" />&nbsp;</p><h4>Creating Users</h4><p>When you create a new user, consider the following requirements and limitations.</p><ul><li>All users have full privileges on the databases to which they are assigned.</li><li>User names cannot contain more than 16 characters.</li><li>There is no restriction on the number of characters in a user's password.</li><li>You can assign one or more databases to the user.&nbsp;</li><li>A database can be assigned to a user when created.</li></ul><h4>Valid Characters for User Names and Passwords</h4><p>The following characters are valid for user names and passwords:</p><ul><li>Letters, both uppercase and lowercase, are allowed.&nbsp;</li><li>Numbers, spaces, and the symbols @, ?, &nbsp;and # are allowed, but spaces are not allowed at the beginning or end of the user name or password.</li><li>The underscore symbol (_) is allowed anywhere in the database name, user name, or password.</li></ul><h4>Limitations on User Names and Passwords&nbsp;</h4><p>The following characters are not allowed when you create user names or passwords:</p><ul><li>Single quotation marks</li><li>Double quotation marks</li><li>Back quotation marks</li><li>Semicolons</li><li>Commas</li><li>Backslashes</li><li>Forward slashes</li><li>Spaces at the beginning or end of the user name or password</li></ul><h4>Valid Characters for Host Names</h4><p>&nbsp;The host parameter should be a numeric IPv4 address that describes the host from which the user must connect (such as 192.168.1.12) or the symbol %. The symbol % serves as a wildcard to MySQL, and means "from anywhere". Users created without a host parameter are given the default value of %, which allows them to connect to the database from any host.</p><ul><li>Valid host name - 111.111.111.11</li><li>Invalid host name - server1.test.com</li></ul><h4>&nbsp;<a name="modify"></a></h4><h3>Modify User Accounts</h3><p>You can perform the following operations to modify a user by clicking the cog icon next to the user name:</p><p><img src="/knowledge_center/sites/default/files/field/image/dbmodifyusers.png" alt="" width="397" height="245" />&nbsp;</p><ul><li>Edit the user name and host</li><li>Change the user’s password</li><li>Delete the user</li><li>Manage database access (grant or revoke access to specific databases)</li></ul><p><a name="manage"></a>&nbsp;</p><h3>Manage Database Access for Users</h3><p>&nbsp;</p><p>Clicking the Manage Database Access command in the actions menu will let you control user access to each database.&nbsp;To revoke a user's access to a database, click the "-" button next to the database name in the list.</p><p>&nbsp;<img src="/knowledge_center/sites/default/files/field/image/dbmanageaccess.png" alt="" width="866" height="421" /></p><p>To grant a user access to a database, click the Add Access button. In the list of databases for which the user does not already have access, select the check boxes next to the appropriate database names and then submit the changes to put them into effect.</p><p><img src="/knowledge_center/sites/default/files/field/image/dbaddaccess.png" alt="" width="761" height="460" />&nbsp;</p><p><strong>Note:</strong> Through the Control Panel, users can only be granted or revoked full permissions on a database. To add more specific permissions, you must enable the root user as described in the following section.</p><h4><a name="set"></a></h4><h4>Set Access-Level Permissions for Individual Users</h4><p>Currently the Control Panel allows you to grant or revoke user access for a given database, but all users are granted universal privileges on the database by default. Because of security concerns or other application needs, you may need to set specific privileges for a user such as granting some users read-only access to a specific database for reporting purposes. To completely control permissions for a user, you must enable the root user for your database instance. After the root user is enabled, you can log in to MySQL and manage the access privileges for individual users.</p><p>There are two ways to enable root user on Cloud Databases. One way is by using the <a href="http://docs.rackspace.com/cdb/api/v1.0/cdb-getting-started/content/Install_Trove_Client.html" target="_blank">Trove Command Line Tool</a>, generally referred to as the CLI. Instructions for using this tool follow. Another way to enable the root user is through the <a href="http://docs.rackspace.com/cdb/api/v1.0/cdb-devguide/content/POST_createRoot__version___accountId__instances__instanceId__root_Database_Instances.html" target="_blank">API</a>. &nbsp; Support for access-level control on Cloud Databases through our Control Panel will be provided in the future.</p><h4>Using the Trove Command Line Tool</h4><p>In order to use the CLI, first you must <a href="http://docs.rackspace.com/cdb/api/v1.0/cdb-getting-started/content/Install_Trove_Client.html" target="_blank">install the trove client</a>. After installing the trove client, you can enable the root user for the database instance by using the following command, where &lt;instance&gt; is the ID of the instance:&nbsp;</p><pre>$ trove root-enable &lt;instance&gt;</pre><p>This command generates a password for the root user. Store this password because &nbsp;it is required to log in as a root user for the database instance. After the root user is enabled, you have full control for creating and managing user privileges.&nbsp;</p><p><em>Example</em> – Database instance MySQLDBInstance01 has a database DBStaging1 and a user DevUser1. You would like to set up read-only permissions for DevUser1.</p><p>Step 1: List database instances to get the instance ID:</p><pre>$ trove list</pre><p>Step 2: Enable the root user on MySQLDBInstance01, with instance ID 23a6481f-f98a-4fcd-b4a9-54d06f6f6e88:</p><pre>$ trove root-enable 23a6481f-f98a-4fcd-b4a9-54d06f6f6e88</pre><p>A password is generated and returned for the root user.</p><p>Step 3: Log in to MySQL as a root user with the password generated in the preceding step:</p><pre>$ mysql – u &lt;root&gt; –h &lt;hostname&gt; -p &lt;password&gt;</pre><p>Step 4: In MySQL, set up read permissions for DevUser1 by using the GRANT statement:</p><pre>$ GRANT SELECT on DBStaging1 to ‘DevUser1’@’hostname’;</pre><p><strong>Note:</strong> &nbsp;You can reset the root user password by making subsequent calls to enable the root user.</p><h4>Using the API</h4><p>If you want to enable the root user via the API, you can follow the examples located in our <a href="http://docs.rackspace.com/cdb/api/v1.0/cdb-devguide/content/POST_createRoot__version___accountId__instances__instanceId__root_Database_Instances.html" target="_blank">API documentation</a>.</p>
