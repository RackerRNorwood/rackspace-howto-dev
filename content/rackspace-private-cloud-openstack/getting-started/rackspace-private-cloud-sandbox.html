---
node_id: 3807
title: Rackspace Private Cloud Sandbox
permalink: article/rackspace-private-cloud-sandbox
type: article
created_date: '2013-12-09 22:41:07'
created_by: Karin Levenstein
last_modified_date: '2015-08-20 16:5341'
last_modified_by: kyle.laffoon
products: Rackspace Private Cloud - OpenStack
categories: Getting Started
body_format: tinymce
---

<div class="chapter" title="Chapter&nbsp;1.&nbsp;Overview">
<p>Rackspace Private Cloud Sandbox is a fast, free, and easy way to install a Rackspace Private Cloud powered by OpenStack on a single physical device. This method is suitable for anyone who wants to install an OpenStack-powered private cloud for testing or demonstration purposes.</p>

<p>Rackspace Private Cloud Sandbox v1.0 runs Rackspace Private Cloud v4.2.1 powered by the <a class="link" href="http://www.openstack.org/software/havana/" target="_top">Havana release of OpenStack</a>.</p>
</div>

<div class="toc">
<p><strong>Table of Contents</strong></p>

<dl>
	<dt><span class="section"><a href="#Requirements">Requirements</a></span></dt>
	<dt><span class="section"><a href="#Setup">Setup</a></span></dt>
	<dd>
	<dl>
		<dt><span class="section"><a href="#Setup_VMWare-Fusion-Workstation">VMWare</a></span></dt>
		<dt><span class="section"><a href="#Setup_VirtualBox">VirtualBox</a></span></dt>
	</dl>
	</dd>
	<dt><span class="section"><a href="#About">Using the private cloud</a></span></dt>
	<dd>
	<dl>
		<dt><span class="section"><a href="#about-login">Logging into the cloud</a></span></dt>
		<dt><span class="section"><a href="#about-stack-features">Cloud features</a></span></dt>
		<dt><span class="section"><a href="#about-performance">Cloud performance</a></span></dt>
	</dl>
	</dd>
</dl>
</div>

<div class="chapter" title="Chapter&nbsp;2.&nbsp;Rackspace Private Cloud Sandbox">
<div class="titlepage">
<div>
<div>
<h2 class="title"><a name="RPC_sandbox"></a>Rackspace Private Cloud Sandbox</h2>
</div>
</div>
</div>

<p>The Rackspace Private Cloud Sandbox system creates a Rackspace Private Cloud, including all of the APIs and services available in OpenStack Havana, using a single instance.</p>

<p>Because this is a single-node setup, this system does not provide a highly available or high performance solution. However, it is ideal for demonstrations and testing.</p>

<p>QEMU is used as the hypervisor. QEMU has the best performance in this environment, and it is capable of nesting virtualization: a virtual server with the capability to virtualize instances.</p>

<p>This system also features a Rackspace tab in the Horizon dashboard. This is a Python package which operates as a plugin for Horizon, so Horizon or any other upstream packages have not been changed. Because of this plugin, the Horizon cookbook template file for <code class="filename">local_settings.py</code> was modified.</p>

<p>More information for this project can be seen at the <a class="link" href="https://github.com/cloudnull/rcbops_virt_builder" target="_top"> RCBOPS Virtual Appliance Builder Github page</a>. Specific changes are listed in the <a class="link" href="https://github.com/cloudnull/rcbops_virt_builder/blob/master/setup_notes.rst" target="_top"> setup notes on that page</a>.</p>

<div class="section" title="Requirements">
<div class="titlepage">
<div>
<div>
<h2 class="title"><a name="Requirements"></a>Requirements</h2>
</div>
</div>
</div>

<p>To set up the Rackspace Private Cloud Sandbox, you will require a physical machine with these specifications:</p>

<ul>
	<li>At least 2048MB of RAM. Note that the VM will default to 2560MB when imported, though you can change this to suit your environment.</li>
	<li>At least 35GB of storage space. The installed size of the OVA is 6GB, and the virtual disk image size is 25GB; however it is a dynamically expanding disk. Be aware of the potential for the disk size to grow, and plan accordingly.</li>
	<li>Three local-only network devices for the virtual machine. These can be run from a single physical access point, which should be set up for you automatically during the installation of the desktop hypervisor.</li>
	<li>An active internet connection. If you do not have an active internet connection, you will receive an error message when you launch the OVA. If this happens, ensure that your internet connection is active and then reboot the OVA.</li>
</ul>
</div>

<div class="section" title="Setup">
<div class="titlepage">
<div>
<div>
<h2 class="title"><a name="Setup"></a>Setup</h2>
</div>
</div>
</div>

<p>The Rackspace Private Cloud Sandbox system has two different OVAs. One is designed for VMWare Player, Fusion, and Workstation, and the other is designed for VirtualBox.</p>

<table border="0" summary="Note">
	<tbody>
		<tr>
			<th align="left">Note</th>
		</tr>
		<tr>
			<td align="left" valign="top">
			<p>There is a known issue with the Chrome browser on Apple Mac computers. If you have the <span class="guibutton">Hide Extensions</span> option selected, Chrome will change the file extension from <code class="filename">.ova</code> to <code class="filename">.ovf</code>, which will cause a failure when VMWare or VirtualBox tries to import the file. To work around this issue, de-select <span class="guibutton">Hide Extensions</span> in the file download dialog box, or manually change the extension of the downloaded file to <code class="filename">.ova</code>.</p>
			</td>
		</tr>
	</tbody>
</table>

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="Setup_VMWare-Fusion-Workstation"></a>VMWare</h3>
</div>
</div>
</div>

<p>This section explains how to import the appliance and start the VM on VMWare Player 6, Fusion 6, and Workstation 7 and later.</p>

<p>It is strongly recommended that you use this system on VMWare. You can download VMWare Player 6 for Windows or Linux from the <a class="link" href="https://my.vmware.com/web/vmware/free#desktop_end_user_computing/vmware_player/6_0" target="_top">VMWare site</a>.</p>

<div class="procedure" title="Procedure&nbsp;2.1.&nbsp;To set up Rackspace Private Cloud Sandbox on VMWare"><a name="d5e111"></a><strong>Procedure&nbsp;2.1.&nbsp;To set up Rackspace Private Cloud Sandbox on VMWare</strong>

<ol class="procedure" type="1">
	<li class="step" title="Step 1">
	<p><a class="link" href="http://b73074de3e3005d3cbe3-e008c7df2e56236b013895bc1d6b995e.r10.cf2.rackcdn.com/RPC-SANDBOX-VMWARE.ova" target="_top">Download the OVA file</a> and save it to your local device.</p>
	</li>
	<li class="step" title="Step 2">
	<p>In VMWare, import the OVA file. Navigate to <span class="keycap"><strong>File</strong></span>-<span class="keycap"><strong>Import</strong></span>-<span class="keycap"><strong>Choose File</strong></span> .</p>
	</li>
	<li class="step" title="Step 3">
	<p>Select the OVA file, and click <span class="guibutton">Continue</span> to import the virtual machine.</p>
	</li>
	<li class="step" title="Step 4">
	<p>Click <span class="guibutton">Start the VM</span> to start the virtual machine.</p>
	</li>
	<li class="step" title="Step 5">
	<p>When the VM is active, you will be able to use the OpenStack image without the need for bridged networking.</p>
	</li>
</ol>
</div>

<p>During the import process, you may experience the following messages:</p>

<ul>
	<li>During the OVA import, you may be asked if you would like to upgrade the hardware compatibility profile. This message appears when you are using a new version of VMWare than the version on which the OVA was built. You can upgrade the profile without any negative consequences.</li>
	<li>You may receive an error message indicating that the OVA cannot be imported due to OVA specifications. If you receive this message, click <span class="guibutton">Retry</span>, This will relax the OVA import requirements and enable the OVA to be imported without issues.</li>
</ul>
</div>

<div class="section" title="VirtualBox">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="Setup_VirtualBox"></a>VirtualBox</h3>
</div>
</div>
</div>

<p>This section explains how to set up Rackspace Private Cloud Sandbox using VirtualBox 4.3.x. Rackspace strongly recommends that you work on a clean installation of VirtualBox. You can download VirtualBox from the <a class="link" href="https://www.virtualbox.org/" target="_top">VirtualBox site</a>.</p>

<p>VirtualBox provides many network options. While any network setup that functions in your environment will work, the recommended setup is:</p>

<ul>
	<li>A bridged network</li>
	<li>A host-only network</li>
	<li>An internal network</li>
</ul>

<p>In this networking environment, the only network type that you will need to configure is the host-only network. The internal network is configured from within the VM, and the bridged network is configured by the public network to which you are attached.</p>

<div class="note" title="Note">
<table border="0" summary="Note">
	<tbody>
		<tr>
			<th align="left">Note</th>
		</tr>
		<tr>
			<td align="left" valign="top">
			<p>When the VM is imported, Adapter 1 is set up as a bridged network by default. The bridged device that is set up is an ethernet device, and needs to be the device that you use to connect to the internet. For example, a laptop may have a setting of en1 "wi-fi", whereas a desktop device may use en0 "Ethernet".</p>

			<p>If you are not able to use a bridged network for any reason, you can change the network type for Adapter 1 to a NAT network. This will make instances inaccessible, but will still enable you to use all of the OpenStack APIs, including the OpenStack Dashboard.</p>
			</td>
		</tr>
	</tbody>
</table>
</div>

<p>The settings in the following procedure are a guide only, and might need to be adjusted to suit your environment.</p>

<div class="procedure" title="Procedure&nbsp;2.2.&nbsp;To set up Rackspace Private Cloud Sandbox on VirtualBox 4.3.x"><a name="d5e155"></a><strong>Procedure&nbsp;2.2.&nbsp;To set up Rackspace Private Cloud Sandbox on VirtualBox 4.3.x</strong>

<ol class="procedure" type="1">
	<li class="step" title="Step 1">
	<p><a class="link" href="http://b73074de3e3005d3cbe3-e008c7df2e56236b013895bc1d6b995e.r10.cf2.rackcdn.com/RPC-SANDBOX-VBOX.ova" target="_top">Download the OVA file</a> and save it to your local device.</p>
	</li>
	<li class="step" title="Step 2">
	<p>In VirtualBox, navigate to <span class="keycap"><strong>Preferences</strong></span>-<span class="keycap"><strong>Network</strong></span>-<span class="keycap"><strong>Host-Only Networks</strong></span>.</p>
	</li>
	<li class="step" title="Step 3">
	<p>Click on the icon to add a new host-only network and assign it a name.</p>
	</li>
	<li class="step" title="Step 4">
	<p>Configure the host network settings:</p>

	<pre class="programlisting">
IPv4 Address: 192.168.56.1
IPv4 Network Mask: 255.255.255.0
IPv6 Address: <em class="replaceable"><code>&lt;Leave this field blank&gt;</code></em>
IPv6 Network Mask Length: 0
</pre>
	</li>
	<li class="step" title="Step 5">
	<p>Configure the DHCP Server settings:</p>

	<pre class="programlisting">
Server Address: 192.168.56.100
Server Mask: 255.255.255.0
Lower Address Bond: 192.168.56.200
Upper Address Bond: 192.168.56.254
</pre>

	<p>After configuring these settings, click OK to create the network.</p>
	</li>
	<li class="step" title="Step 6">
	<p>Navigate to <span class="keycap"><strong>File</strong></span> <span class="keycap"><strong>Import</strong></span> <span class="keycap"><strong>Choose File</strong></span> .</p>

	<p>Select the OVA file, and click <span class="guibutton">Import</span> to import the virtual machine.</p>
	</li>
	<li class="step" title="Step 7">
	<p>After the import process is complete, enable acceleration. Select the new virtual machine and navigate to <span class="keycap"><strong>Settings</strong></span>+<span class="keycap"><strong>System</strong></span>+<span class="keycap"><strong>Acceleration</strong></span> Select the following check boxes:</p>

	<ul>
		<li><span class="guilabel">Enable VT-x/AMD-V</span></li>
		<li><span class="guilabel">Enable Nested Paging</span></li>
	</ul>
	</li>
	<li class="step" title="Step 8">
	<p>Configure the adapter settings as follows:</p>

	<ul>
		<li><span class="bold"><strong>Adapter 1</strong></span>: Attach to the internet connection.

		<p>This defaults to the bridged adapter on the ethernet port, but can be set to NAT if you cannot use a bridged network due to network restrictions. However, you will not be able to connect to built instances from within the Sandbox cluster. You will still be able to use Horizon and connect to the built instances via the Horizon console.</p>
		</li>
		<li><span class="bold"><strong>Adapter 2</strong></span>: Attach to Internal Network (Internal Only). Accept the default name.</li>
		<li><span class="bold"><strong>Adapter 3</strong></span>: Attach to Host Only Adapter. The network name should match the one created in Step 3.</li>
		<li><span class="bold"><strong>Adapter 4</strong></span>: Attach to Internal Network (Internal Only).</li>
	</ul>
	</li>
	<li class="step" title="Step 9">
	<p>Click <span class="guibutton">OK</span> to accept the settings and then click <span class="guibutton">Start the VM</span> to start the virtual machine. This could take a long time; however it will get faster once the image has been saved in the cache.</p>
	</li>
</ol>
</div>

<div class="procedure" title="Procedure&nbsp;2.3.&nbsp;To troubleshoot the VM"><a name="d5e216"></a><strong>Procedure&nbsp;2.3.&nbsp;To troubleshoot the VM</strong>

<p>If the VM fails on first boot:</p>

<ol class="procedure" type="1">
	<li class="step" title="Step 1">
	<p>Log in to the virtual machine from a command prompt, and run these commands to prime the system for the first boot, and to display a list of devices and their corresponding hardware MAC addresses:</p>

	<pre class="screen">
$ touch /opt/first.boot
$ /sbin/ip addr show | grep -E ^eth
</pre>
	</li>
	<li class="step" title="Step 2">
	<p>Return to <span class="keycap"><strong>Settings</strong></span> <span class="keycap"><strong>Network</strong></span> in the virtual machine and adjust the MAC addresses until they match those returned by the command.</p>
	</li>
	<li class="step" title="Step 3">
	<p>Shut down the instance and restart it. If the set up has been successful, the instance will boot and be assigned an IP address for both local and external network connections. This could take a long time; however it will get faster once the image has been saved in the cache.</p>
	</li>
</ol>
</div>
</div>
</div>

<div class="section" title="Using the private cloud">
<div class="titlepage">
<div>
<div>
<h2 class="title"><a name="About"></a>Using the private cloud</h2>
</div>
</div>
</div>

<p>For general information about using the private cloud, refer to the Rackspace article "<a class="link" href="http://www.rackspace.com/knowledge_center/article/rackspace-private-cloud-software-creating-an-instance-in-the-cloud" target="_top">Creating an Instance in the Cloud</a>".</p>

<div class="section" title="Logging into the cloud">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="about-login"></a>Logging into the cloud</h3>
</div>
</div>
</div>

<p>To access the system, you can use the command line interface or the graphical Horizon dashboard. Both interfaces use the following default credentials:</p>

<ul>
	<li>Username: <em class="parameter"><code>admin</code></em></li>
	<li>Password: <em class="parameter"><code>Passw0rd</code></em></li>
</ul>

<p>If you access the system using the command line, the root user is enabled and has SSH access.</p>

<p>These credentials can be used to access any of the OpenStack APIs. For access to the environment variables needed to access the OpenStack APIs using the command line interface, look in the root user's <code class="filename">.openrc</code> file.</p>
</div>

<div class="section" title="Cloud features">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="about-stack-features"></a>Cloud features</h3>
</div>
</div>
</div>

<p>There is only one flavor available to the virtual machine in this system, which is the <code class="filename">512MB Standard Instance</code> flavor. This ensures that instances are bootable even if they only have the minimum amount of RAM available to them. If you require new flavors, you can create them using either the command line interface, or the Horizon dashboard. The virtual machine comes with one image, Ubuntu 12.04.03.</p>

<p>Cinder is set up on this system as a loopback file. It is a COW file located at <code class="filename">/opt/cinder.img</code> and will grow as you use it. A default Cinder volume type is also created, called <code class="filename">TestVolType</code>.</p>

<p>An SSH key is automatically created, called <code class="filename">adminKey</code>, which can be used to boot instances.</p>
</div>

<div class="section" title="Cloud performance">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="about-performance"></a>Cloud performance</h3>
</div>
</div>
</div>

<p>When you build an instance, the first boot may take some time to complete. After the first boot, the image will be cached, and subsequent boots will be faster.</p>

<p>System performance is dependent on the speed of your network and of your host machine. The system uses nested hosting, which means that you are virtualizing a virtual machine host which is, in turn, virtualizing virtual machines. This means that it will frequently take some time to complete tasks using the APIs.</p>

<p>All interactions you have with built instances must occur on the host they were booted on. The instances will not be accessible outside of the host virtual machine. Although networking will function correctly, it is recommended that you do not put a lot of load on the built instances. Performance will decline quickly as more load is placed on the host machine.</p>
</div>
</div>
