---
node_id: 4805
title: Introduction to Agent Health Monitoring
permalink: article/introducted-to-agent-health-monitoring
type: article
created_date: '2015-08-30 20:41:09'
created_by: constanze.kratel
last_modified_date: '2015-09-01 19:4525'
last_modified_by: constanze.kratel
products: Cloud Monitoring
categories: Monitoring
body_format: tinymce
---

<p>Agent Health Monitoring is a feature within Cloud Monitoring that helps you check the performance of your monitoring agents and ensure that they are working as expected.</p>

<p>You can use Agent Health Monitoring to monitor the states of all your Rackspace monitoring agents on your servers by using checks, alarms, and notification plans, all of which are familiar concepts of monitoring. As a result, you can quickly alert the appropriate person or team when any one of the agents has an issue.</p>

<p>For more information, see the <a href="http://www.rackspace.com/knowledge_center/article/working-with-alarms">Working with alarms</a>, <a href="http://www.rackspace.com/knowledge_center/article/working-with-checks">Working with checks</a>, and <a href="http://www.rackspace.com/knowledge_center/article/working-with-rackspace-intelligence-notification-plans">Working with Rackspace Intelligence notification plans</a> articles.</p>

<h2>How does agent health monitoring work?</h2>

<p>When an agent first connects to the Rackspace monitoring server, the server creates an&nbsp;agent.health&nbsp;check and alarm. The check and alarm are associated with the server to which the agent is attached. Each time the agent sends a heartbeat to the monitoring server, the monitoring server produces a metric that includes the time stamp of the heartbeat event.</p>

<p>Periodically, the monitoring server triggers event processing on the&nbsp;agent.health&nbsp;alarm. The criteria that were set for the alarm evaluate the time stamp that was created by the server. If the time stamp is older than five minutes, the alarm changes to a&nbsp;Critical&nbsp;state and triggers the alert.</p>

<p>The&nbsp;agent.health&nbsp;check and alarm work just like any other check and alarm. You can configure the alarm to send alerts to the appropriate teams or individuals by modifying the default notification plan. You can also use the suppression feature on the agent.health check and alarm, or disable the alarm if you don't want to receive any alerts.</p>

<p>When you delete the monitoring entity, such as a Cloud Server, all the checks on that entity are deleted. The deletion of entities is handled automatically for cases where Rackspace monitoring is integrated with other products, such as Cloud Servers.</p>

<h2>Responding to an alert</h2>

<p>Alerts are emitted when the monitoring server stops receiving the heartbeat metrics that are periodically submitted by the agent. To investigate the cause of an alert, perform the following troubleshooting procedures:</p>

<ol>
	<li>Connect to the server to verify that the server is up and running.&nbsp;</li>
	<li>After you have successfully connected to the server, verify whether the server can connect to one of the monitoring agent endpoints. The SRV records of the endpoints are as follows:
	<ul>
		<li>_monitoringagent._tcp.ord1.prod.monitoring.api.rackspacecloud.com</li>
		<li>_monitoringagent._tcp.dfw1.prod.monitoring.api.rackspacecloud.com</li>
		<li>_monitoringagent._tcp.lon3.prod.monitoring.api.rackspacecloud.com</li>
	</ul>
	</li>
	<li>After you have confirmed that your server is running and the connection is working, verify whether the agent has stopped running or is experiencing issues. For information about debugging the agent, see&nbsp;<a href="http://www.rackspace.com/knowledge_center/article/troubleshooting-the-cloud-monitoring-agent">Troubleshooting the Cloud Monitoring Agent</a>.</li>
</ol>

<p>For a summary of the concepts mentioned in this article, read the <span><a href="http://bit.ly/maas-intelligence">Single Pane of Glass for Your IT Ops</a> blog post or the <a href="http://www.rackspace.com/knowledge_center/article/getting-started-with-rackspace-intelligence">Getting Started with Rackspace Intelligence</a> article.</span><span> </span></p>

<h2>Start using agent health monitoring</h2>

<p>The Agent Health Monitoring feature is initially offered at Limited Availability (LA). If you are interested in using this feature, submit a comment that expresses your interest for this <a href="https://feedback.rackspace.com/forums/298164-infrastructure-developer-tools/suggestions/6818178-notify-the-user-when-agent-is-disconnected">feedback forum item</a>. The Cloud Monitoring team will contact you with detailed information.</p>

<p>The agent.health check and alarm will be created automatically on all the connected agents when the feature is released. The notification plan that is configured for this alarm will vary based on your service level and the product that is being monitored.</p>

<p>For more information about agent health monitoring, read the <a href="http://bit.ly/agent-health-monitoring">Watching the Watchmen with Agent Health Monitoring</a> blog post by Shane Duan.</p>
