---
node_id: 1483
title: Installing python-novaclient on Linux and Mac OS
permalink: article/installing-python-novaclient-on-linux-and-mac-os
type: article
created_date: '2012-07-23 23:48:41'
created_by: jered.heeschen
last_modified_date: '2015-09-03 20:0836'
last_modified_by: constanze.kratel
products: Cloud Servers
categories: Server Management
body_format: tinymce
---

<h3 class="title topictitle1">Remote management</h3><p class="p">The Cloud Control Panel isn't the only way to manage Cloud Servers. If you're running a script or program you can use the <a href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/ch_preface.html" target="_blank">Cloud Servers API</a>, but that involves a modicum of coding effort.</p><p class="p">If you want to manage your servers from the command line without dealing directly with the API you can use an open-source client application called <a href="http://pypi.python.org/pypi/python-novaclient/" target="_blank">python-novaclient</a>.</p><p class="p">Note that the nova client is not maintained by Rackspace and should be considered software in development. While we don't directly support the nova client you can post in the comments below if you run into any difficulties.</p><h3 class="title topictitle1">Prerequisites</h3><p class="p">To run python-novaclient you'll need python 2.6 or later installed on your system (the nova client doesn't support python 3 at the time of this writing). You can run the client from either a desktop machine or from a remote system, like a Cloud Server. For initial testing you might create a fresh CentOS 6.3 or Ubuntu 11.04 server, but this is not required.</p><p class="p">The python installation will need to have the "setuptools" package installed as well. This is installed by default on Mac OS X, and many Linux distributions provide packages to make setuptools easy to install.</p><p class="p">To run the nova client you'll need to have access to your Rackspace Cloud account's username and password.</p><h3 class="title topictitle1">setuptools</h3><p class="shortdesc">The setuptools python package is required to run the installer for the nova client. If you're running Mac OS X the setuptools package should already be installed (if not, see "Other Distributions" below for install instructions).</p><p class="p">Depending on your Linux distribution you can install setuptools through your package manager. Some install commands for various distributions are...</p><h4 class="title sectiontitle">Debian and Ubuntu</h4><pre class="pre codeblock">sudo apt-get update
sudo apt-get install python-setuptools</pre><h4 class="title sectiontitle">Fedora, CentOS, and RHEL</h4><pre class="pre codeblock">sudo yum install python-setuptools</pre><h4 class="title sectiontitle">Arch</h4><pre class="pre codeblock">sudo pacman -S python2-setuptools</pre><p><strong>Note:</strong> Newer releases of Arch use python 3 by default, which isn't compatible with the python-novaclient package at this time. Installing the "python2-setuptools" package will ensure that you have a copy of python 2.x installed without affecting your existing python 3 installation.</p><h4 class="title sectiontitle">Gentoo</h4><pre class="pre codeblock">sudo emerge setuptools</pre><h4 class="title sectiontitle">Other distributions</h4><p class="p">If you're not using one of the above, try searching your distribution's package manager for "setuptools" to find an installation package. If there isn't one available you can <a class="xref" href="http://pypi.python.org/pypi/setuptools" target="_blank">download the setuptools package</a> directly:</p><pre class="pre codeblock"><span class="keyword">http://pypi.python.org/pypi/setuptools</span></pre><h3 class="title topictitle1">pip</h3><p class="shortdesc">Now that setuptools is installed we can use one of its programs to install the python package manager "pip".</p><pre class="pre codeblock">sudo easy_install pip</pre><h3 class="title topictitle1">Installing the package</h3><p class="p">And now we finally get to install the client. We'll use pip to download and install a metapackage that includes the latest version of python-novaclient and the Rackspace extensions all in one go:</p><pre class="pre codeblock">sudo pip install rackspace-novaclient</pre><p class="p">If you have trouble with pip you can also download an installation package from the <a href="http://pypi.python.org/pypi/rackspace-novaclient/" target="_blank">python package repository</a>.</p><p class="p">The "rackspace-novaclient" is a metapackage that causes pip to install the client and all Rackspace extensions for the client. &nbsp;If you have any problems with the metapackage you can instead use pip to install the "python-novaclient" and "rackspace-auth-openstack" packages individually for basic operation.</p><h3 class="title topictitle1">Environment variables</h3><p class="p">Now that the nova client is installed we just need to set up the environment variables that will allow it to connect to your Rackspace Cloud account.</p><h4 class="title topictitle2">Setting the environment variables</h4><p class="p">Now you'll need to set some environment variables. Open your .bash_profile file for editing:</p><pre class="pre codeblock">nano ~/.bash_profile</pre><p class="p">Then add the following lines, changing values to match your requirements. &nbsp;Pay particular attention to the username, password/API key, and tenant name/account number. &nbsp;You can find your account number displayed in the upper right of the <a href="https://mycloud.rackspace.com">Cloud Control Panel</a> when you are logged in.</p><h4 class="p">USA, HKG, and AUS Datacenters Example</h4><p>For these regions (<span style="line-height: 1.538em;">DFW, IAD, ORD, HKG, and SYD)</span><span style="line-height: 1.538em;">, use the following format:&nbsp;</span></p><pre class="pre codeblock">OS_USERNAME=username
OS_TENANT_NAME=accountnumber
OS_AUTH_SYSTEM=rackspace
OS_PASSWORD=apikey
OS_AUTH_URL=https://identity.api.rackspacecloud.com/v2.0/
OS_REGION_NAME=DFW
OS_NO_CACHE=1
export OS_USERNAME OS_TENANT_NAME OS_AUTH_SYSTEM OS_PASSWORD OS_AUTH_URL OS_REGION_NAME OS_NO_CACHE</pre><h4>UK Datacenters Example</h4><p>For the UK region (LON), use the following format:</p><pre>OS_USERNAME=username
OS_TENANT_NAME=accountnumber
OS_AUTH_SYSTEM=rackspace
OS_PASSWORD=apikey
OS_AUTH_URL=https://lon.identity.api.rackspacecloud.com/v2.0/
OS_REGION_NAME=LON
OS_NO_CACHE=1
export OS_USERNAME OS_TENANT_NAME OS_AUTH_SYSTEM OS_PASSWORD OS_AUTH_URL OS_REGION_NAME OS_NO_CACHE</pre><h3>Permissions</h3><p>Once you've set all of the environment variables save the file. Since there's a password in there we'll set permissions on the file so other people can't read it:</p><pre class="pre codeblock">chmod 600 ~/.bash_profile</pre><h4 class="title topictitle2">Environment variable explanations</h4><p class="shortdesc">The following table lists explanations for each environment variable and offers suggested values.</p><table id="reference_1bw_3xy_cg__properties_1bm_kxy_cg" class="simpletable properties" summary="" border="1" cellspacing="0" cellpadding="4"><tbody><tr class="sthead prophead"><th id="d26e245" class="stentry proptypehd" align="left" valign="bottom">Variable name</th><th id="d26e248" class="stentry propvaluehd" align="left" valign="bottom">Value type</th><th id="d26e251" class="stentry propdeschd" align="left" valign="bottom">Description</th></tr><tr class="strow property"><td class="stentry proptype" headers="d26e245" valign="top">OS_USERNAME</td><td class="stentry propvalue" headers="d26e248" valign="top">username</td><td class="stentry propdesc" headers="d26e251" valign="top">Set this value to your Rackspace Cloud username.</td></tr><tr class="strow property"><td class="stentry proptype" headers="d26e245" valign="top">OS_TENANT_NAME</td><td class="stentry propvalue" headers="d26e248" valign="top">account number</td><td class="stentry propdesc" headers="d26e251" valign="top">Set this value to your Rackspace Cloud account number, visible in the upper right of the Cloud Contol Panel when logged in.</td></tr><tr class="strow property"><td class="stentry proptype" headers="d26e245" valign="top">OS_AUTH_SYSTEM</td><td class="stentry propvalue" headers="d26e248" valign="top">rackspace</td><td class="stentry propdesc" headers="d26e251" valign="top">Set this value to "rackspace" to connect to the Rackspace Cloud.</td></tr><tr class="strow property"><td class="stentry proptype" headers="d26e245" valign="top">OS_PASSWORD</td><td class="stentry propvalue" headers="d26e248" valign="top">password or API key</td><td class="stentry propdesc" headers="d26e251" valign="top">Set this value to your Rackspace Cloud API key. You can retrieve your API key in the Cloud Control Panel. See <a class="xref" href="http://www.rackspace.com/knowledge_center/index.php/Generating_your_API_key" target="_blank">this article</a> for more information about generating your API key. With a non-Rackspace Openstack cloud, you will usually put the account password in this variable.</td></tr><tr class="strow property"><td class="stentry proptype" headers="d26e245" valign="top">OS_AUTH_URL</td><td class="stentry propvalue" headers="d26e248" valign="top">identity endpoint</td><td class="stentry propdesc" headers="d26e251" valign="top">Set this value to the endpoint for the identity service the client will use to authenticate for API operations. For the US and AUS Rackspace Cloud that should be <code>https://identity.api.rackspacecloud.com/v2.0/</code>, and for the UK Rackspace Cloud it should be <code>https://lon.identity.api.rackspacecloud.com/v2.0/</code>.</td></tr><tr class="strow property"><td class="stentry proptype" headers="d26e245" valign="top">OS_REGION_NAME</td><td class="stentry propvalue" headers="d26e248" valign="top">datacenter region</td><td class="stentry propdesc" headers="d26e251" valign="top">The code for the datacenter region containing the servers you want to manipulate. You can check your server's datacenter by checking its details screen in the Cloud Control Panel. The datacenter code is just the first three letters of the datacenter's identifier; e.g. <code>DFW, ORD, HKG, SYD, or LON.</code>&nbsp;You can override the region setting with the <code>--os-region-name</code> command-line option.</td></tr><tr class="strow property"><td class="stentry proptype" headers="d26e245" valign="top">OS_NO_CACHE</td><td class="stentry propvalue" headers="d26e248" valign="top">0 or 1</td><td class="stentry propdesc" headers="d26e251" valign="top">On newer versions of Ubuntu the nova client tries to use a system keyring that's usually not set up on servers. Setting this value to "1" will work around the issue. It shouldn't be necessary on other systems, but it shouldn't interfere with the client's operations either. You can override the no_cache setting with the <code>--no-cache</code> command-line option.</td></tr></tbody></table><h4 class="title topictitle2">Loading the environment variables</h4><p class="p">To apply these environment variables to your current shell, run:</p><pre class="pre codeblock">source ~/.bash_profile</pre><h3 class="title topictitle1">Testing the client</h3><p class="p">Now we'll run a quick query to make sure the nova client is ready to go. To see if you can talk to the API server, run:</p><pre class="pre codeblock">nova image-list</pre><p class="p">If all is well you'll get back a list of the images available to you when creating a server.</p><h4 class="p">Keychain password message</h4><p class="p">If you're running the client on an Ubuntu system and it asks for a "keychain password" run the client with the&nbsp; <code>--no-cache</code> option, as in:</p><pre class="pre codeblock">nova --no-cache image-list</pre><p class="title topictitle1">To save some typing you can set the environment variable "OS_NO_CACHE=1" as in our sample config above.</p><h3 class="title topictitle1">Viewing the command list</h3><p class="p">You can get a full list of commands by typing:</p><pre class="pre codeblock">nova help</pre><p class="p">Note, however, that you won't be able to use every command listed. The nova client was written for use with recent development versions of OpenStack, so it includes support for some features that have not yet been implemented in the Rackspace Cloud.</p><p class="p">You can get more help for a command this way too:</p><pre class="pre codeblock">nova help create</pre><p class="p">We'll talk about some of the more commonly-used commands in a later article.</p><h3 class="title topictitle1">Troubleshooting</h3><p class="p">The client's error reports aren't terribly comprehensive. Most troubleshooting will involve checking settings and trying again.</p><p class="p">A common problem is entering the username, tenant name, or API key incorrectly, so be sure and double-check those settings.</p><p class="p">Remember that if you change any environment variables you'll need to either log out and log back in, or tell your shell to read the .bash_profile again:</p><pre class="pre codeblock">source ~/.bash_profile</pre><p class="p">You can also use the options that are listed in the "nova help" output to override some environment variable settings. If you're unsure about the region, for example, you can substitute it with the <code>--os-region-name</code> option like so:</p><pre class="pre codeblock">nova --os-region-name ORD image-list</pre><h3 class="title topictitle1">Summary</h3><p class="p">You should have the nova client set up where you can access it, and it should be able to talk to your Rackspace Cloud account. In the <a href="/knowledge_center/article/useful-python-novaclient-commands" target="_blank">next article in this series</a> we'll look at some common operations you can perform with the client, like creating servers and taking snapshots.</p>
