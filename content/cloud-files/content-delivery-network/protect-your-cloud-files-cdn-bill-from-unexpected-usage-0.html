---
node_id: 2162
title: Protect Your Cloud Files CDN Bill from Unexpected Usage
permalink: article/protect-your-cloud-files-cdn-bill-from-unexpected-usage-0
type: article
created_date: '2012-09-14 16:35:52'
created_by: David Hendler
last_modified: '2015-09-04 15:0347'
last_modified_by: constanze.kratel
products: Cloud Files
categories: Content Delivery Network
tags: 'CDN,logs,Monitoring,piracy,usage,Cloud Files,Akamai,content delivery network'
body_format: tinymce
---

<p class="MsoNormal"><span>When choosing to use the content delivery network (CDN) to accelerate your website and the images and videos on that website, you are responsible for all bandwidth costs associated with delivery of your content over the public Internet, including bandwidth incurred because of piracy. </span><span>This article is designed to help you monitor and protect your CDN usage.<span>&nbsp; </span></span></p>

<p class="MsoNormal">When you use the CDN, all your assets are assigned a CDN URL.<span> Your website then has that </span>CDN URL in its source code and displays it when a user requests to see it.<span> Some</span> companies and individuals target websites’ asset URLs and serve them without the site owner’s permission.<span>&nbsp; </span>This is known as “hot linking” and can result in a massive increase to your CDN bill if the problem goes unnoticed.<span>&nbsp; </span></p>

<p>You can protect yourself, your content, and your invoice from hot linking in the following ways:<br />
<br />
-- Constant monitoring and alerts for abnormal CDN bandwidth usage<br />
-- Proactive measures to make it more difficult to access your site’s source code<br />
<br />
The following sections discuss&nbsp; these options.</p>

<p>&nbsp;</p>

<h2>Monitoring and alerting<strong><em> </em></strong></h2>

<p>One way to monitor your current CDN usage is through the Cloud Control Panel.&nbsp;</p>

<ol>
	<li>Log in to&nbsp;<a href="http://mycloud.rackspace.com/">http://mycloud.rackspace.com</a>.&nbsp;</li>
	<li>In the upper-right corner of the panel, click the <strong>Account: <em>yourUsername</em></strong> menu and select <strong>Usage Overview</strong>.<br />
	On the Current Usage page, you can see the service usage for all of your Rackspace products and services.</li>
	<li>Next to any service, click the down arrow for more information about how you are using your services.&nbsp;If you are using multiple Rackspace Cloud products, you might need to scroll down to find your Cloud Files usage.&nbsp;</li>
</ol>

<p>&nbsp;<img alt="" src="/knowledge_center/sites/default/files/field/image/1560-2162-newimg.png" style="height: 427px; width: 695px; border-width: 1px; border-style: solid;" /></p>

<p>Another method for monitoring your CDN usage is by examining the CDN logs. Every CDN customer can turn on CDN logs for their containers that are CDN enabled. If you find that your content has been hot linked, you can use your CDN logs to find which URLs are compromised and take action immediately. You can also enable these logs via the Cloud Files API or from your&nbsp;<a href="http://mycloud.rackspace.com/">Cloud Control Panel</a>&nbsp;by performing the following steps:</p>

<p>1. In the top navigation bar, click <strong>Storage &gt; Files</strong>.<br />
2. Click the gear icon next to the container for which you want to enable CDN logs, and select <strong>Enable Logs</strong>.</p>

<p class="MsoNormal"><img alt="" src="/knowledge_center/sites/default/files/field/image/1560-2162-newimg2.png" style="height: 282px; width: 419px; border-width: 1px; border-style: solid;" />&nbsp;</p>

<p>After you have enabled CDN logs for your content, Cloud Files creates a container for you and delivers logs to that container.&nbsp; The frequency of log delivery can vary depending on how heavy traffic is on the CDN, but logs are usually delivered every four hours.&nbsp;</p>

<p>The log files inside of the .CDN_ACCESS_LOGS container will be prefixed with the name of the container they are logging, followed by the date and time stamp. This makes it easy to find logs for a specific time period.&nbsp;</p>

<p class="MsoNormal"><strong><em>Third-party log analysis</em></strong></p>

<p>Several companies in the market will take the hassle out of parsing the logs in your CDN log container.&nbsp; These companies take the raw logs that Rackspace delivers to your account and make them easy to consume and understand.&nbsp; For example, they will show you peak traffic times and geographic regions that access your data the most.</p>

<p>For monitoring purposes, most of these tools allow you to set up alerts to indicate when usage reaches a certain level, or if it has increased by a certain amount.&nbsp; This is a great way to get monitoring without having to code a solution yourself.</p>

<p>&nbsp;Rackspace has two&nbsp;<a href="https://cloudtools.rackspace.com/home">Cloud Tools Partners</a>&nbsp;that provide these features,&nbsp;<a href="https://cloudtools.rackspace.com/apps/445?1601080659">Cloud Ability</a>&nbsp;and&nbsp;<a href="https://cloudtools.rackspace.com/apps/399?1814232928">QloudStat</a>. &nbsp;&nbsp;</p>

<p>&nbsp;</p>

<h2>Hiding source code</h2>

<p>Although completely hiding your source code is impossible, following are some common tools that can serve as a first line of defense against those trying to steal content.&nbsp; Although someone with more technical knowledge will find ways around these defenses, it might take long enough for them to give up.&nbsp;</p>

<p class="MsoNormal"><strong><span>No right-click scripts</span></strong></p>

<p class="MsoNormal">There are scripts that will prevent visitors from using the right-click menu to copy your content’s link or view your site’s source code. Although there are other ways to find this information, preventing right-click access can be an easy first step to protecting your site.&nbsp; If you attempt this method, be sure to check its functionality in a variety of browsers, because the code can be difficult to implement across all of them.&nbsp;</p>

<p>&nbsp;<strong><span>JavaScript encryption</span></strong></p>

<p class="MsoNormal">The method involves taking your code, using a custom-made function to "encrypt" it, and then putting it in an HTML file along with a function that will decrypt it for the browser. While website visitors will still be able to view your source code, they will not be able to use it without decrypting.&nbsp; There are several tools online that will help encrypt your source code.&nbsp; Here are some links and examples that might be helpful:&nbsp;<span> </span></p>

<ul>
	<li><a href="http://www.blackbeltcoder.com/Articles/mfc/encrypting-source-code">Encrypting source code</a></li>
	<li><a href="http://www.webtoolhub.com/tn561359-html-encrypter.aspx">Simple encrypting tool</a><span>&nbsp;</span></li>
	<li><a href="http://www.htmlguard.com/articles/about-html-source-code-encryption/">Article discussing options for encryption</a></li>
</ul>

<p class="MsoNormal">This method requires the use of JavaScript, meaning that you need to expect your legitimate website traffic to be using browsers and settings that support it.&nbsp;<span> </span></p>

<p>&nbsp;</p>
